<!doctypehtml><html lang="ms-MY"class="overflow-hidden overscroll-none"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Kemahiran Pemulihan: Operasi Bahagi</title><script src="https://cdn.tailwindcss.com"></script><link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap"rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script><style>body{font-family:Fredoka,sans-serif;background-color:#f0fdf4;background-image:radial-gradient(#86efac 2px,transparent 2px);background-size:30px 30px}.game-card{background:#fff;border:4px solid #475569;box-shadow:8px 8px 0 #00000020;border-radius:1.5rem;transition:transform .2s;position:relative;display:flex;align-items:center;justify-content:center;flex-direction:column;flex:1;overflow:hidden}.btn-3d{transition:all .1s;border-bottom-width:6px;border-color:rgba(0,0,0,.2);transform:translateY(0);cursor:pointer;display:inline-block}.btn-3d:active:not(:disabled){transform:translateY(4px);border-bottom-width:2px;box-shadow:none}.btn-3d:disabled{opacity:.6;cursor:not-allowed;border-bottom-width:6px;filter:grayscale(100%)}.shake{animation:shake .4s ease-in-out;border-color:#ef4444!important;background-color:#fee2e2!important}@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px) rotate(-5deg)}75%{transform:translateX(8px) rotate(5deg)}}.drag-item{cursor:grab;user-select:none;transition:transform .1s}.drag-item:active{cursor:grabbing;transform:scale(.95)}.dragging{opacity:.5;transform:rotate(5deg) scale(1.1)}.drop-zone{border:3px dashed #94a3b8;background-color:#f8fafc;transition:all .3s ease;border-radius:1rem;min-height:100px}.drop-zone.drag-over{border-color:#3b82f6;background-color:#dbeafe;transform:scale(1.02)}.drop-zone-filled{border:3px solid #22c55e;background-color:#dcfce7}.guli-ball{width:30px;height:30px;border-radius:50%;box-shadow:inset -2px -2px 4px rgba(0,0,0,.2);border:2px solid rgba(0,0,0,.1);display:inline-block;margin:2px}.guli-blue{background-color:#3b82f6}.guli-green{background-color:#22c55e}.sifir-table{border-collapse:separate;border-spacing:2px;margin:0 auto}.sifir-table td,.sifir-table th{width:36px;height:36px;text-align:center;border-radius:6px;border:2px solid #e2e8f0;font-weight:700;font-size:.9rem}.sifir-answer{background:#fff;color:#3b82f6;cursor:pointer;transition:all .2s}.sifir-answer:hover{background:#dbeafe;transform:scale(1.1);border-color:#3b82f6}.sifir-highlight-answer{background-color:#3b82f6!important;color:#fff!important;transform:scale(1.1)}.sifir-highlight-col,.sifir-highlight-row{background-color:#fef3c7!important;border-color:#f59e0b!important}</style><body class="h-screen w-screen overflow-hidden text-slate-800 flex flex-col overscroll-none"><div class="flex-none p-4 z-50 pointer-events-none w-full"><div class="max-w-4xl mx-auto bg-green-400 border-4 border-green-600 rounded-full px-4 py-2 shadow-xl flex items-center justify-between pointer-events-auto transform hover:scale-[1.01] transition-transform"><div class="flex items-center gap-3"><span class="text-2xl animate-bounce">‚ûó</span> <span id="info-text"class="text-lg font-bold text-green-900 leading-none mt-1">Jom belajar Bahagi!</span></div><button id="speak-btn"onclick="speakInfo()"class="bg-white hover:bg-green-50 text-green-600 border-2 border-green-200 rounded-full p-2 transition-colors shadow-sm">üîä</button></div></div><div class="h-4"></div><div class="flex-1 w-full max-w-5xl mx-auto p-2 flex flex-col min-h-0"><div class="game-card p-4 mb-2 flex-1 w-full relative"><div id="activity-content"class="w-full h-full relative z-10 flex flex-col overflow-hidden"><div class="py-10 text-center flex flex-col justify-center h-full"><div class="text-6xl mb-4 animate-pulse">üç∞</div><h2 class="text-3xl font-bold text-emerald-600 mb-2">Operasi Bahagi</h2><p class="text-lg text-slate-500 mb-4 font-semibold">Konsep Agihan & Kumpulan<div class="text-2xl animate-bounce">üëá</div></div></div></div><div class="flex-none bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg p-2 border-2 border-white"><h3 class="text-lg font-bold text-slate-700 mb-2 text-center">üéÆ Pilih Aktiviti</h3><div class="grid grid-cols-5 gap-2 mb-2"><button onclick="loadActivity(1)"class="btn-3d bg-blue-500 text-white font-bold py-2 px-1 rounded-xl text-xs">‚öôÔ∏è<br>Agih</button> <button onclick="loadActivity(2)"class="btn-3d bg-emerald-500 text-white font-bold py-2 px-1 rounded-xl text-xs">üß∫<br>Kumpul</button> <button onclick="loadActivity(3)"class="btn-3d bg-violet-500 text-white font-bold py-2 px-1 rounded-xl text-xs">üó∫Ô∏è<br>Peta</button> <button onclick="loadActivity(4)"class="btn-3d bg-orange-500 text-white font-bold py-2 px-1 rounded-xl text-xs">‚¨ÜÔ∏è<br>Susun</button> <button onclick="loadActivity(5)"class="btn-3d bg-rose-500 text-white font-bold py-2 px-1 rounded-xl text-xs">üîç<br>Kod</button></div><div class="flex justify-center gap-4 border-t-2 border-slate-100 pt-2"><button onclick="clearActivity()"class="btn-3d bg-slate-400 text-white font-bold py-1 px-4 rounded-full text-sm">üè† Menu</button> <button onclick="nextActivity()"class="btn-3d bg-indigo-500 text-white font-bold py-1 px-6 rounded-full text-base">Seterusnya ‚û°Ô∏è</button></div></div></div><script>let currentActivity=0,ttsEnabled=!1,currentInfo="Pilih aktiviti untuk mula.",draggedElement=null;function triggerWin(){confetti({particleCount:150,spread:80,origin:{y:.6}})}function speak(e){var t;ttsEnabled&&"speechSynthesis"in window&&(window.speechSynthesis.cancel(),(e=new SpeechSynthesisUtterance(e)).lang="ms-MY",e.rate=.9,e.pitch=1.1,(t=window.speechSynthesis.getVoices().find(e=>"ms-MY"===e.lang||e.lang?.startsWith("ms")))&&(e.voice=t),window.speechSynthesis.speak(e))}function setInfo(e){currentInfo=e;let t=document.getElementById("info-text");t.style.opacity=0,setTimeout(()=>{t.textContent=e,t.style.opacity=1},200)}function speakInfo(){ttsEnabled||(ttsEnabled=!0,document.getElementById("speak-btn").classList.add("bg-green-100","text-green-600")),speak(currentInfo)}function loadActivity(e){currentActivity=e;let t=document.getElementById("activity-content");t.style.opacity=0,setTimeout(()=>{1===e&&loadMesinPengagihan(t),2===e&&loadPakarPengumpulan(t),3===e&&loadPetaSifir(t),4===e&&loadPenyusunSifir(t),5===e&&loadMisteriKodRahsia(t),t.style.opacity=1},200)}function clearActivity(){currentActivity=0,document.getElementById("activity-content").innerHTML='<div class="py-10 text-center flex flex-col justify-center h-full"><div class="text-6xl mb-4 animate-bounce">üç∞</div><h2 class="text-3xl font-bold text-emerald-600 mb-2">Operasi Bahagi</h2><p class="text-lg text-slate-500 mb-4 font-semibold">Pilih butang di bawah.</p></div>',setInfo("Pilih aktiviti untuk mula.")}function nextActivity(){let e=currentActivity+1;loadActivity(e=5<e?1:e)}function loadMesinPengagihan(e){setInfo("Tekan butang 'Agihkan' untuk membahagi sama rata.");let t="";for(let e=0;e<18;e++)t+=`<div id="guli-${e}" class="guli-ball guli-blue"></div>`;e.innerHTML=`
            <h3 class="text-xl font-bold text-blue-500 mb-2 text-center flex-none">‚öôÔ∏è Mesin Pengagihan</h3>
            <div class="flex-1 w-full overflow-y-auto px-4 flex flex-col items-center">
                <div class="text-xl font-bold text-slate-700 mb-2 bg-blue-50 px-4 py-1 rounded-xl border-2 border-blue-200 flex-none">18 √∑ 6 = ?</div>
                
                <div class="bg-white border-2 border-slate-200 rounded-2xl p-2 mb-2 w-full max-w-sm text-center flex-none">
                    <div class="text-xs font-bold text-slate-400 uppercase mb-1">Bank Guli</div>
                    <div id="guli-container" class="flex flex-wrap justify-center gap-1 min-h-[30px]">${t}</div>
                </div>

                <button id="agih-btn" onclick="animasiAgihan()" class="btn-3d bg-blue-500 text-white font-bold py-2 px-6 rounded-xl text-lg mb-4 flex-none">
                    Mula Agihkan üöÄ
                </button>

                <div class="grid grid-cols-3 gap-2 w-full max-w-md flex-none">
                    ${[...Array(6)].map((e,t)=>`
                        <div class="bg-blue-50 border-2 border-blue-200 rounded-xl p-1 text-center min-h-[60px] flex flex-col items-center justify-between">
                            <span class="text-blue-800 font-bold text-xs">K${t+1}</span>
                            <div id="kotak-visual-${t}" class="flex flex-wrap justify-center gap-0.5 my-1"></div>
                            <div id="kotak-isi-${t}" class="text-lg font-black text-blue-600">0</div>
                        </div>
                    `).join("")}
                </div>
            </div>
        `}function animasiAgihan(){let t=document.getElementById("agih-btn"),a=(t&&(t.disabled=!0),18),n=17,l=0,r=[0,0,0,0,0,0],s=setInterval(()=>{var e;a<=0?(clearInterval(s),setInfo("Siap! 18 bahagi 6 sama dengan 3."),speak("Siap! 18 bahagi 6 sama dengan 3."),triggerWin(),t&&(t.textContent="Selesai! ‚úÖ",t.classList.replace("bg-blue-500","bg-green-500"))):((e=document.getElementById("guli-"+n))&&(e.style.visibility="hidden"),document.getElementById("kotak-visual-"+l).innerHTML+='<div class="guli-ball guli-green w-6 h-6"></div>',r[l]++,document.getElementById("kotak-isi-"+l).textContent=r[l],a--,n--,l=(l+1)%6)},200)}window.dragStart=function(e){draggedElement=e.target,e.target.classList.add("dragging"),e.target.dataset.id&&e.dataTransfer.setData("id",e.target.dataset.id),e.target.dataset.answer&&e.dataTransfer.setData("answer",e.target.dataset.answer)},window.dragEnd=function(e){draggedElement&&draggedElement.classList.remove("dragging"),document.querySelectorAll(".drop-zone").forEach(e=>e.classList.remove("drag-over")),draggedElement=null},window.allowDrop=function(e){e.preventDefault(),e.currentTarget.classList.contains("drop-zone")&&e.currentTarget.classList.add("drag-over")},window.dragLeave=function(e){e.currentTarget.classList.contains("drop-zone")&&e.currentTarget.classList.remove("drag-over")};let guliTotal=24,bakulPenuh=0,KAPASITI_BAKUL=4;function loadPakarPengumpulan(e){guliTotal=24,bakulPenuh=0,setInfo("Seret 4 guli ke dalam setiap bakul.");let t="";for(let e=0;e<24;e++)t+=`<div class="guli-ball guli-green cursor-grab hover:scale-110 transition-transform" draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" data-id="${e}"></div>`;e.innerHTML=`
            <h3 class="text-xl font-bold text-emerald-500 mb-2 text-center flex-none">üß∫ Pakar Pengumpulan</h3>
            <div class="flex-1 w-full overflow-y-auto px-4 flex flex-col items-center">
                <div class="text-center mb-4 flex-none">
                     <div class="inline-block text-lg font-bold text-emerald-800 bg-emerald-100 px-4 py-1 rounded-xl border border-emerald-300">24 √∑ 4 = ?</div>
                </div>
                <div class="flex flex-col md:flex-row gap-4 w-full max-w-2xl flex-none">
                    <div class="md:w-1/3 bg-white border-2 border-slate-200 rounded-2xl p-2 text-center flex-none">
                        <h4 class="text-slate-400 font-bold uppercase text-xs mb-1">Guli Belum Dikira</h4>
                        <div id="guli-bank" class="flex flex-wrap justify-center gap-1">${t}</div>
                        <div id="guli-count" class="mt-1 font-bold text-slate-500 text-sm">24 Biji</div>
                    </div>
                    <div class="md:w-2/3 bg-emerald-50 border-2 border-emerald-200 rounded-2xl p-2 flex-none">
                        <h4 class="text-emerald-600 font-bold uppercase text-xs mb-2 text-center">Kawasan Pengumpulan</h4>
                        <div id="bakul-container" class="flex flex-wrap justify-center gap-2"></div>
                    </div>
                </div>
            </div>
        `,tambahBakulBaru()}function tambahBakulBaru(){var e,t=document.getElementById("bakul-container");t&&((e=document.createElement("div")).className="drop-zone w-32 flex flex-col items-center justify-center p-2 bg-white border-dashed border-slate-300",e.setAttribute("ondrop","dropOnBakul(event)"),e.setAttribute("ondragover","allowDrop(event)"),e.setAttribute("ondragleave","dragLeave(event)"),e.dataset.count=0,e.innerHTML=`<span class="text-xs text-slate-400 font-bold mb-1">Bakul #${bakulPenuh+1}</span><div class="flex flex-wrap justify-center gap-1 w-full min-h-[40px] content-center visual-area"></div><span class="text-lg font-black text-slate-300 mt-1 counter">0/4</span>`,t.appendChild(e),t.scrollTop=t.scrollHeight)}function loadPetaSifir(e){setInfo("Klik nombor biru untuk lihat hubungan darab & bahagi.");let a='<table id="peta-sifir" class="sifir-table"><tbody>';for(let t=0;t<=10;t++){a+="<tr>";for(let e=0;e<=10;e++){var n;0===t&&0===e?a+='<th class="bg-slate-200 text-slate-500 text-[10px]">x</th>':0===t?a+=`<th class="bg-slate-100 text-slate-600 text-[10px]">${e}</th>`:0===e?a+=`<th class="bg-slate-100 text-slate-600 text-[10px]">${t}</th>`:(n=t*e,a+=`<td class="sifir-answer text-[10px]" onclick="showSifirInfo(${t}, ${e}, ${n})">${n}</td>`)}a+="</tr>"}a+="</tbody></table>",e.innerHTML=`
            <h3 class="text-xl font-bold text-violet-500 mb-2 text-center flex-none">üó∫Ô∏è Peta Sifir</h3>
            <div class="flex-1 w-full overflow-y-auto px-4 flex flex-col items-center">
                <div id="sifir-readout" class="bg-violet-50 border-2 border-violet-200 rounded-xl p-2 mb-2 text-center min-h-[60px] flex items-center justify-center flex-none w-full max-w-lg">
                    <p class="text-violet-800 font-semibold text-sm animate-pulse">Klik nombor!</p>
                </div>
                <div class="overflow-auto pb-4 px-2 w-full flex justify-center flex-none">${a}</div>
            </div>
        `}function loadPenyusunSifir(e){setInfo("Susun kad soalan mengikut jawapan dari KECIL ke BESAR.");var t=[{q:"12 √∑ 6",a:2},{q:"6 √∑ 6",a:1},{q:"24 √∑ 6",a:4},{q:"18 √∑ 6",a:3}].sort(()=>Math.random()-.5);e.innerHTML=`
            <h3 class="text-xl font-bold text-orange-500 mb-2 text-center flex-none">‚¨ÜÔ∏è Penyusun Sifir</h3>
            <div class="flex-1 w-full overflow-y-auto px-4 flex flex-col items-center">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl flex-none">
                    <div class="bg-orange-50 border-2 border-orange-200 p-2 rounded-2xl text-center">
                        <h4 class="font-bold text-orange-700 mb-2 uppercase text-xs">Kad Soalan</h4>
                        <div class="flex flex-wrap justify-center gap-2">
                            ${t.map(e=>`<div class="drag-item bg-white border-b-4 border-orange-400 text-orange-800 font-black text-lg py-2 px-3 rounded-xl shadow-sm" draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" data-answer="${e.a}">${e.q}</div>`).join("")}
                        </div>
                    </div>
                    <div class="bg-white border-2 border-slate-200 p-2 rounded-2xl">
                        <h4 class="font-bold text-slate-400 mb-2 uppercase text-xs text-center">Susun Sini (Kecil ‚û°Ô∏è Besar)</h4>
                        <div class="flex flex-col gap-2" id="slot-container">
                            ${[1,2,3,4].map(e=>`<div class="drop-zone flex items-center justify-between px-4 bg-slate-50" ondrop="dropSifir(event, ${e})" ondragover="allowDrop(event)" ondragleave="dragLeave(event)" style="min-height: 50px"><span class="text-slate-300 font-bold text-lg opacity-50">${e}</span><span class="text-[10px] text-slate-400 uppercase tracking-widest">Letak Jawapan ${e}</span></div>`).join("")}
                        </div>
                    </div>
                </div>
            </div>
        `}window.dropOnBakul=function(e){var t,a,n;e.preventDefault(),e.currentTarget.classList.remove("drag-over"),!draggedElement||(t=parseInt(e.currentTarget.dataset.count))>=KAPASITI_BAKUL||(a=e.currentTarget.querySelector(".visual-area"),(n=document.createElement("div")).className="guli-ball guli-blue w-6 h-6",a.appendChild(n),draggedElement.remove(),draggedElement=null,guliTotal--,e.currentTarget.dataset.count=++t,document.getElementById("guli-count").textContent=guliTotal+" Biji",e.currentTarget.querySelector(".counter").textContent=t+"/"+KAPASITI_BAKUL,e.currentTarget.querySelector(".counter").className="text-lg font-black text-emerald-600 mt-1 counter",t===KAPASITI_BAKUL&&(e.currentTarget.classList.add("drop-zone-filled"),e.currentTarget.classList.remove("drop-zone"),e.currentTarget.removeAttribute("ondrop"),bakulPenuh++,0<guliTotal?(speak("Bakul penuh! Isi bakul seterusnya."),setTimeout(tambahBakulBaru,300)):(setInfo(`Hebat! Ada ${bakulPenuh} bakul semuanya. 24 √∑ 4 = 6.`),speak(`Hebat! Ada ${bakulPenuh} bakul semuanya. Jawapannya 6.`),triggerWin())))},window.showSifirInfo=function(e,t,a){var n=document.getElementById("peta-sifir"),n=(n.querySelectorAll("th, td").forEach(e=>e.classList.remove("sifir-highlight-row","sifir-highlight-col","sifir-highlight-answer")),n.rows[e].cells[t].classList.add("sifir-highlight-answer"),n.rows[e].cells[0].classList.add("sifir-highlight-row"),n.rows[0].cells[t].classList.add("sifir-highlight-col"),e+` darab ${t} jadi ${a}. Maka, ${a} bahagi ${e} dapat ${t}!`);document.getElementById("sifir-readout").innerHTML=`<div><span class="text-2xl font-black text-violet-600">${a} √∑ ${e} = ${t}</span><br><span class="text-sm text-slate-500">(${e} x ${t} = ${a})</span></div>`,speak(n)},window.dropSifir=function(e,t){var a;e.preventDefault(),e.currentTarget.classList.remove("drag-over"),draggedElement&&(parseInt(draggedElement.dataset.answer)===t?(e.currentTarget.innerHTML="",(a=draggedElement.cloneNode(!0)).draggable=!1,a.classList.remove("drag-item"),a.classList.add("w-full","text-center","bg-green-100","!border-green-500","!text-green-800"),e.currentTarget.appendChild(a),e.currentTarget.classList.add("drop-zone-filled"),e.currentTarget.classList.remove("drop-zone"),e.currentTarget.removeAttribute("ondrop"),draggedElement.remove(),draggedElement=null,speak("Betul! "+a.textContent.trim()+" sama dengan "+t),4===document.querySelectorAll("#slot-container .drop-zone-filled").length&&(triggerWin(),setInfo("Syabas! Susunan tepat."))):(setInfo("Salah tempat tu. Cuba lagi."),speak("Salah tempat."),e.currentTarget.classList.add("shake"),setTimeout(()=>e.currentTarget.classList.remove("shake"),500)))};let mysteryVal=0;function loadMisteriKodRahsia(e){mysteryVal=0,setInfo("Tekan butang untuk cari nombor misteri."),e.innerHTML=`
            <h3 class="text-xl font-bold text-rose-500 mb-2 text-center flex-none">üîç Kod Rahsia</h3>
            <div class="flex-1 w-full overflow-y-auto px-4 flex flex-col items-center">
                <div class="max-w-lg mx-auto text-center flex-none w-full">
                    <div class="flex items-center justify-center gap-2 text-2xl md:text-3xl font-black text-slate-700 mb-4 bg-white p-2 rounded-2xl shadow-sm border-2 border-slate-100">
                        <span id="display-num" class="text-rose-500">?</span><span>√∑</span><span>3</span><span>=</span><span>5</span>
                    </div>
                    <div class="flex justify-center gap-2 mb-4">
                        <button onclick="updateMystery(-1)" class="btn-3d bg-rose-200 text-rose-800 font-bold py-2 px-3 rounded-xl text-lg hover:bg-rose-300">-1</button>
                        <div class="w-16 bg-slate-100 rounded-xl flex items-center justify-center text-xl font-bold border-2 border-slate-200" id="live-val">0</div>
                        <button onclick="updateMystery(1)" class="btn-3d bg-green-200 text-green-800 font-bold py-2 px-3 rounded-xl text-lg hover:bg-green-300">+1</button>
                    </div>
                    <div class="bg-rose-50 border-2 border-rose-100 rounded-xl p-2">
                        <p class="text-xs font-bold text-rose-400 uppercase mb-1">Visual Agihan (Bahagi 3)</p>
                        <div class="flex justify-center gap-2" id="visual-boxes"></div>
                        <div class="mt-1 text-slate-400 text-xs font-semibold">Baki: <span id="baki-val">0</span></div>
                    </div>
                </div>
            </div>
        `,updateMystery(0)}window.updateMystery=function(e){mysteryVal=Math.max(0,mysteryVal+e),document.getElementById("live-val").textContent=mysteryVal;let t=Math.floor(mysteryVal/3);e=mysteryVal%3;document.getElementById("visual-boxes").innerHTML=[1,2,3].map(e=>`<div class="bg-white border-2 border-rose-200 rounded-lg w-16 h-16 flex items-center justify-center text-2xl font-bold text-rose-600 transition-all ${5===t?"bg-green-100 border-green-400 text-green-700 scale-110":""}">${t}</div>`).join(""),document.getElementById("baki-val").textContent=e,5===t&&0==e?(setInfo(`Tahniah! Nombor misteri ialah ${document.getElementById("display-num").textContent=mysteryVal}.`),speak(`Betul! ${mysteryVal} bahagi 3 sama dengan 5.`),triggerWin()):document.getElementById("display-num").textContent="?"},"speechSynthesis"in window&&setInterval(()=>{window.speechSynthesis.paused&&window.speechSynthesis.resume()},1e3)</script>