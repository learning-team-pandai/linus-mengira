<!doctypehtml><html lang="ms-MY"class="overflow-hidden overscroll-none"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Matematik Ceria: Operasi Bahagi</title><script src="https://cdn.tailwindcss.com"></script><link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap"rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script><style>body{font-family:Fredoka,sans-serif;background-color:#f0fdf4;background-image:radial-gradient(#86efac 2px,transparent 2px);background-size:30px 30px}.game-card{background:#fff;border:4px solid #475569;box-shadow:8px 8px 0 #00000020;border-radius:1.5rem;position:relative;display:flex;align-items:center;justify-content:center;flex-direction:column;flex:1;overflow:hidden}.btn-3d{transition:all .1s;border-bottom-width:6px;border-color:rgba(0,0,0,.2);transform:translateY(0);cursor:pointer;display:inline-block}.btn-3d:active:not(:disabled){transform:translateY(4px);border-bottom-width:2px;box-shadow:none}.btn-3d:disabled{opacity:.6;cursor:not-allowed;border-bottom-width:6px;filter:grayscale(100%)}.shake{animation:shake .4s ease-in-out;border-color:#ef4444!important;background-color:#fee2e2!important}@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px) rotate(-5deg)}75%{transform:translateX(8px) rotate(5deg)}}.draggable{cursor:grab;user-select:none;transition:transform .2s}.draggable:active{cursor:grabbing;transform:scale(1.1)}.drop-zone{border:3px dashed #94a3b8;background-color:#f8fafc;transition:all .3s ease;border-radius:.75rem;min-width:80px;min-height:80px;display:inline-flex;align-items:center;justify-content:center;font-weight:700;color:#334155}.drop-zone.drag-over{border-color:#3b82f6;background-color:#dbeafe;transform:scale(1.05)}.drop-zone.filled{border:3px solid #22c55e;background-color:#dcfce7;color:#15803d;border-style:solid}.mangkuk{border:4px solid #60a5fa;background:#eff6ff;border-radius:1rem;min-width:60px;min-height:80px;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:all .3s ease;padding:5px}.mangkuk.highlight{transform:scale(1.1);background:#dbeafe;border-color:#2563eb;box-shadow:0 4px 10px rgba(0,0,0,.1)}.guli-drag{width:30px;height:30px;background:#10b981;border:2px solid #059669;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:.8rem;font-weight:700;color:#fff;cursor:grab;margin:2px;box-shadow:2px 2px 0 rgba(0,0,0,.1)}.kotak-kumpul{border:3px dashed #10b981;background:#f0fdfa;min-width:80px;min-height:80px;border-radius:1rem;padding:5px;display:flex;flex-direction:column;align-items:center;margin:4px}.kotak-kumpul.drop-zone-filled{background:#d1fae5;border-color:#059669;border-style:solid}.rambutan-grid{display:flex;flex-wrap:wrap;justify-content:center;gap:4px}.rambutan-icon{font-size:2rem;transition:all .5s ease}.rambutan-icon.faded{opacity:.2;transform:scale(.5);filter:grayscale(100%)}.peneroka-grid{display:grid;gap:2px;border:4px solid #f97316;padding:5px;background:#fff7ed;border-radius:1rem;width:100%;max-width:300px;margin:0 auto}.peneroka-blok{aspect-ratio:1/1;background:#fb923c;border-radius:4px;border:2px solid #ea580c;transition:all .3s ease}.peneroka-select{font-size:1.2rem;font-weight:700;padding:.5rem;border:2px solid #fdba74;border-radius:.5rem;cursor:pointer}.garis-nombor-container{position:relative;display:flex;justify-content:space-between;align-items:flex-end;height:80px;border-bottom:6px solid #6366f1;padding:0 10px;margin-top:1rem;width:100%;max-width:800px}.garis-nombor-tick{display:flex;flex-direction:column;align-items:center;position:relative;bottom:-10px;width:2px}.garis-nombor-tick span{font-weight:700;font-size:1rem;color:#4338ca;margin-top:5px}.garis-nombor-tick::before{content:'';width:4px;height:15px;background:#6366f1;border-radius:2px}.kanggaru{position:absolute;bottom:10px;left:0;font-size:2.5rem;transition:left .5s cubic-bezier(.34,1.56,.64,1);transform:translateX(-50%);filter:drop-shadow(2px 4px 0 rgba(0, 0, 0, .2))}</style><body class="h-screen w-screen overflow-hidden text-slate-800 flex flex-col overscroll-none"><div class="flex-none p-4 z-50 pointer-events-none w-full"><div class="max-w-4xl mx-auto bg-green-400 border-4 border-green-600 rounded-full px-4 py-2 shadow-xl flex items-center justify-between pointer-events-auto transform hover:scale-[1.01] transition-transform"><div class="flex items-center gap-3"><span class="text-2xl animate-bounce">‚ûó</span> <span id="info-text"class="text-lg font-bold text-green-900 leading-none mt-1">Konsep Bahagi</span></div><button id="speak-btn"onclick="speakInfo()"class="bg-white hover:bg-green-50 text-green-600 border-2 border-green-200 rounded-full p-2 transition-colors shadow-sm">üîä</button></div></div><div class="h-24"></div><div class="flex-1 w-full max-w-5xl mx-auto p-2 flex flex-col min-h-0"><div class="game-card p-4 mb-2 flex-1 w-full"><div id="activity-content"class="w-full relative z-10 flex flex-col items-center justify-center h-full overflow-hidden"><div class="py-10 text-center"><div class="text-6xl mb-6 animate-pulse">‚ûó</div><h2 class="text-4xl font-bold text-emerald-600 mb-4">Konsep Bahagi</h2><p class="text-lg text-slate-500 mb-8 font-semibold">Pengongsian, Pengumpulan & Tolak.<div class="text-4xl animate-bounce">üëá</div></div></div></div><div class="flex-none bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg p-2 border-2 border-white"><h3 class="text-lg font-bold text-slate-700 mb-1 text-center">üéÆ Pilih Aktiviti</h3><div class="grid grid-cols-5 gap-2 mb-2"><button onclick="loadActivity(1)"class="btn-3d bg-blue-500 text-white font-bold py-2 rounded-xl text-xs">üçâ<br>Agih</button> <button onclick="loadActivity(2)"class="btn-3d bg-green-500 text-white font-bold py-2 rounded-xl text-xs">üì¶<br>Kumpul</button> <button onclick="loadActivity(3)"class="btn-3d bg-purple-500 text-white font-bold py-2 rounded-xl text-xs">‚ûñ<br>Tolak</button> <button onclick="loadActivity(4)"class="btn-3d bg-orange-500 text-white font-bold py-2 rounded-xl text-xs">üîÑ<br>Sifir</button> <button onclick="loadActivity(5)"class="btn-3d bg-red-500 text-white font-bold py-2 rounded-xl text-xs">ü¶ò<br>Garis</button></div><div class="flex justify-center gap-4 border-t-2 border-slate-100 pt-2"><button onclick="clearActivity()"class="btn-3d bg-slate-400 text-white font-bold py-1 px-4 rounded-full text-base">üè† Menu</button> <button onclick="nextActivity()"class="btn-3d bg-indigo-500 text-white font-bold py-1 px-6 rounded-full text-lg">Seterusnya ‚û°Ô∏è</button></div></div></div><script>let currentActivity=0,ttsEnabled=!1,currentInfo="Pilih aktiviti untuk mula belajar bahagi!",draggedElement=null;function triggerWin(){confetti({particleCount:150,spread:80,origin:{y:.6}})}function speak(e){var t;ttsEnabled&&"speechSynthesis"in window&&(window.speechSynthesis.cancel(),(e=new SpeechSynthesisUtterance(e)).lang="ms-MY",e.rate=.95,e.pitch=1.05,(t=window.speechSynthesis.getVoices().find(e=>"ms-MY"===e.lang||e.lang?.startsWith("ms")))&&(e.voice=t),window.speechSynthesis.speak(e))}function setInfo(e){currentInfo=e;let t=document.getElementById("info-text");t.style.opacity=0,setTimeout(()=>{t.textContent=e,t.style.opacity=1},200)}function speakInfo(){ttsEnabled||(ttsEnabled=!0,document.getElementById("speak-btn").classList.add("bg-green-100","text-green-600")),speak(currentInfo)}function loadActivity(e){currentActivity=e;let t=document.getElementById("activity-content");t.style.opacity=0,setTimeout(()=>{1===e&&loadPengongsianActivity(t),2===e&&loadPengumpulanActivity(t),3===e&&loadTolakBerulangActivity(t),4===e&&loadPenerokaSifirActivity(t),5===e&&loadGarisNomborActivity(t),t.style.opacity=1},200)}function clearActivity(){currentActivity=0,document.getElementById("activity-content").innerHTML='<div class="py-10 text-center"><div class="text-8xl mb-6 animate-pulse">‚ûó</div><h2 class="text-5xl font-bold text-emerald-600 mb-4">Konsep Bahagi</h2><p class="text-2xl text-slate-500 mb-8 font-semibold">Pilih butang di bawah.</p></div>',setInfo("Pilih aktiviti untuk mula belajar!")}function nextActivity(){let e=currentActivity+1;loadActivity(e=5<e?1:e)}function loadPengongsianActivity(e){setInfo("Agihkan 15 biji tembikai kepada 3 bekas."),window.pengongsianState={guli:15,mangkuk:[0,0,0],nextMangkuk:0},e.innerHTML=`
            <div class="w-full max-w-4xl text-center flex flex-col h-full overflow-hidden">
                <h3 class="text-xl font-bold text-blue-600 mb-2 flex-none">üçâ Pengongsian</h3>
                
                <div class="bg-blue-50 p-2 rounded-3xl border-2 border-blue-200 mb-2 flex-none">
                    <div class="text-blue-800 font-bold mb-1 uppercase text-xs">Longgokan Tembikai</div>
                    <div id="guli-longgok-paparan" class="text-4xl font-black text-blue-600">${window.pengongsianState.guli}</div>
                </div>

                <div id="bekas-container" class="flex flex-wrap justify-center gap-4 mb-2 flex-1 items-center overflow-y-auto">
                    ${[1,2,3].map(e=>`
                        <div id="mangkuk-${e-1}" class="mangkuk">
                            <span class="font-bold text-blue-400 mb-1 text-xs uppercase">Bekas ${e}</span>
                            <span id="mangkuk-count-${e-1}" class="text-2xl font-bold text-blue-700">0</span>
                        </div>
                    `).join("")}
                </div>

                <div class="flex-none">
                    <button id="agih-btn" onclick="agihkanSatu()" class="btn-3d bg-blue-500 text-white font-bold py-2 px-6 rounded-xl text-xl">
                        Agih Satu üçâ
                    </button>
                    <div id="hasil-pengongsian" class="mt-2 text-xl font-bold text-green-600 h-8"></div>
                </div>
            </div>
        `}function agihkanSatu(){var e,t=window.pengongsianState;0!==t.guli&&(t.guli--,document.getElementById("guli-longgok-paparan").textContent=t.guli,e=t.nextMangkuk,t.mangkuk[e]++,document.getElementById("mangkuk-count-"+e).textContent=t.mangkuk[e],document.querySelectorAll(".mangkuk").forEach(e=>e.classList.remove("highlight","border-blue-600")),document.getElementById("mangkuk-"+e).classList.add("highlight","border-blue-600"),t.nextMangkuk=(t.nextMangkuk+1)%3,speak(t.guli+1+" masuk bekas."),0===t.guli)&&(document.getElementById("agih-btn").disabled=!0,document.getElementById("agih-btn").classList.add("opacity-50"),document.getElementById("hasil-pengongsian").textContent="Siap! 15 √∑ 3 = 5",setInfo("Setiap bekas dapat 5."),speak("Setiap bekas dapat 5. 15 bahagi 3 sama dengan 5."),triggerWin())}function loadPengumpulanActivity(e){setInfo("Kumpul guli enam-enam ke dalam kotak."),window.pengumpulanState={guliTersedia:12,kumpulan:0},e.innerHTML=`
            <div class="w-full max-w-4xl text-center flex flex-col h-full overflow-hidden">
                <h3 class="text-xl font-bold text-green-600 mb-2 flex-none">üì¶ Pengumpulan</h3>
                
                <div class="bg-green-50 p-2 rounded-3xl border-2 border-green-200 mb-2 flex-none">
                    <div class="text-green-800 font-bold mb-2 uppercase text-xs">Bakul Guli</div>
                    <div id="guli-bakul" class="flex flex-wrap justify-center gap-1 min-h-[40px]">
                        ${Array(12).fill(0).map((e,t)=>`
                            <div class="guli-drag draggable" draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)">
                                ${t+1}
                            </div>
                        `).join("")}
                    </div>
                </div>

                <div id="zon-kumpulan" class="flex flex-wrap justify-center gap-2 mb-2 flex-1 overflow-y-auto content-start"></div>
                <div id="hasil-pengumpulan" class="text-xl font-bold text-green-700 h-8 flex-none"></div>
            </div>
        `,tambahKotakKumpulBaru()}function tambahKotakKumpulBaru(){var e=document.getElementById("zon-kumpulan"),t=window.pengumpulanState.kumpulan+1,a=document.createElement("div");a.className="kotak-kumpul drop-zone",a.dataset.count=0,a.dataset.limit=6,a.innerHTML=`<span class="font-bold text-green-700 mb-auto">Kotak ${t}</span><div class="text-sm font-bold text-slate-400 mt-auto status-text">0 / 6</div>`,a.ondrop=dropOnKotak,a.ondragover=window.allowDrop,a.ondragleave=window.dragLeave,e.appendChild(a),window.pengumpulanState.kumpulan=t}function dropOnKotak(e){var t,a,n;e.preventDefault(),e.currentTarget.classList.remove("drag-over"),draggedElement&&(e=e.currentTarget,(t=parseInt(e.dataset.count))<(a=parseInt(e.dataset.limit)))&&(e.dataset.count=++t,e.querySelector(".status-text").textContent=t+" / "+a,draggedElement.remove(),draggedElement=null,(n=document.createElement("div")).className="w-8 h-8 bg-green-500 rounded-full border-2 border-white shadow-sm mb-1",e.insertBefore(n,e.lastElementChild),window.pengumpulanState.guliTersedia--,speak("Masuk."),t===a)&&(e.classList.add("drop-zone-filled"),e.classList.remove("drop-zone"),e.ondrop=null,0<window.pengumpulanState.guliTersedia?(tambahKotakKumpulBaru(),speak("Kotak penuh. Buka kotak baru.")):(n=`Siap! 12 √∑ 6 = ${window.pengumpulanState.kumpulan} kotak.`,document.getElementById("hasil-pengumpulan").textContent=n,speak("Siap! 12 bahagi 6 dapat 2 kotak."),triggerWin()))}function loadTolakBerulangActivity(e){setInfo("Tolak 3 daripada 18 sehingga habis."),window.tolakState={baki:18,tolakan:0},e.innerHTML=`
            <div class="w-full max-w-4xl text-center flex flex-col h-full overflow-hidden">
                <h3 class="text-xl font-bold text-purple-600 mb-2 flex-none">‚ûñ Tolak Berulang</h3>
                
                <div class="bg-purple-50 p-2 rounded-3xl border-2 border-purple-200 mb-2 flex-1 min-h-0 overflow-y-auto">
                    <div class="rambutan-grid mb-2 max-w-md mx-auto">
                        ${Array(18).fill(0).map((e,t)=>`<span id="icon-${t}" class="rambutan-icon">üçì</span>`).join("")}
                    </div>
                    <div class="text-3xl font-black text-purple-800 mb-1" id="baki-txt">18</div>
                    <div class="text-xs font-bold text-purple-400 uppercase">Baki Semasa</div>
                </div>

                <div class="flex-none">
                    <button id="tolak-btn" onclick="tolakTiga()" class="btn-3d bg-purple-500 text-white font-bold py-2 px-6 rounded-xl text-xl">
                        Tolak 3 üçì
                    </button>
                    <div id="hasil-tolak" class="mt-2 text-xl font-bold text-green-600 h-8"></div>
                </div>
            </div>
        `}function tolakTiga(){var e,t=window.tolakState;if(0!==t.baki){for(let e=0;e<3;e++){var a=t.baki-1-e;0<=a&&document.getElementById("icon-"+a).classList.add("faded")}t.baki-=3,t.tolakan++,document.getElementById("baki-txt").textContent=t.baki,speak(`Tolak 3. Tinggal ${t.baki}.`),0===t.baki&&(document.getElementById("tolak-btn").disabled=!0,document.getElementById("tolak-btn").classList.add("opacity-50"),e=`Selesai! Tolak ${t.tolakan} kali. 18 √∑ 3 = `+t.tolakan,document.getElementById("hasil-tolak").textContent=e,speak("Selesai! 18 bahagi 3 sama dengan 6."),triggerWin())}}function loadPenerokaSifirActivity(e){setInfo("Ubah nombor untuk lihat kaitan darab dan bahagi.");var t=e=>Array.from({length:e},(e,t)=>`<option value="${t+1}">${t+1}</option>`).join("");e.innerHTML=`
            <div class="w-full max-w-4xl text-center flex flex-col h-full overflow-hidden">
                <h3 class="text-xl font-bold text-orange-600 mb-2 flex-none">üîÑ Peneroka Sifir</h3>
                
                <div class="flex justify-center items-center gap-2 mb-2 bg-orange-50 p-2 rounded-2xl inline-flex border-2 border-orange-200 flex-none">
                    <select id="sel-row" onchange="updateGrid()" class="peneroka-select text-sm p-1">${t(6)}</select>
                    <span class="text-xl font-black text-orange-400">√ó</span>
                    <select id="sel-col" onchange="updateGrid()" class="peneroka-select text-sm p-1">${t(6)}</select>
                </div>

                <div id="grid-container" class="peneroka-grid mb-2 flex-1 min-h-0 overflow-y-auto w-full"></div>
                
                <div class="bg-white border-2 border-orange-100 p-2 rounded-2xl shadow-sm flex-none">
                    <div id="txt-darab" class="text-xl font-bold text-slate-700 mb-1">...</div>
                    <div class="h-px bg-slate-100 w-full my-1"></div>
                    <div id="txt-bahagi-1" class="text-lg font-bold text-orange-600">...</div>
                    <div id="txt-bahagi-2" class="text-lg font-bold text-orange-600">...</div>
                </div>
            </div>
        `,document.getElementById("sel-row").value=2,document.getElementById("sel-col").value=3,updateGrid()}function updateGrid(){var e=parseInt(document.getElementById("sel-row").value),t=parseInt(document.getElementById("sel-col").value),a=e*t,n=document.getElementById("grid-container");n.style.gridTemplateColumns=`repeat(${t}, 1fr)`,n.innerHTML="";for(let e=0;e<a;e++)n.innerHTML+='<div class="peneroka-blok"></div>';document.getElementById("txt-darab").textContent=e+` √ó ${t} = `+a,document.getElementById("txt-bahagi-1").textContent=a+` √∑ ${e} = `+t,document.getElementById("txt-bahagi-2").textContent=a+` √∑ ${t} = `+e}function loadGarisNomborActivity(e){setInfo("Bantu kanggaru lompat 3 langkah sehingga nombor 12."),window.garisState={cur:0,jumps:0,target:12,step:3};let t="";for(let e=0;e<=12;e++)t+=`<div class="garis-nombor-tick"><span>${e}</span></div>`;e.innerHTML=`
            <div class="w-full max-w-4xl text-center flex flex-col h-full overflow-hidden">
                <h3 class="text-xl font-bold text-red-600 mb-2 flex-none">ü¶ò Garis Nombor</h3>
                <div class="text-2xl font-black text-slate-700 mb-2 flex-none">12 √∑ 3 = <span id="jump-val" class="text-red-600">?</span></div>
                
                <div class="garis-nombor-container mx-auto flex-none w-full">
                    ${t}
                    <div id="kanggaru" class="kanggaru" style="left: 0%;">ü¶ò</div>
                </div>

                <div class="text-center mt-4 flex-none">
                    <button id="jump-btn" onclick="lompatKanggaru()" class="btn-3d bg-red-500 text-white font-bold py-2 px-6 rounded-xl text-xl">Lompat +3</button>
                </div>
            </div>
        `}function lompatKanggaru(){var e,t=window.garisState;t.cur>=t.target||(t.cur+=t.step,t.jumps++,document.getElementById("jump-val").textContent=t.jumps,e=t.cur/t.target*100,document.getElementById("kanggaru").style.left=e+"%",speak(`Lompat. Sekarang nombor ${t.cur}.`),t.cur===t.target&&(document.getElementById("jump-btn").disabled=!0,document.getElementById("jump-btn").classList.add("opacity-50"),setInfo("Syabas! 12 bahagi 3 sama dengan 4 lompatan."),speak("Syabas! 12 bahagi 3 sama dengan 4 lompatan."),triggerWin()))}window.pengongsianState={},window.pengumpulanState={},window.tolakState={},window.garisState={},window.dragStart=function(e){draggedElement=e.target,e.target.classList.add("opacity-50")},window.dragEnd=function(e){e.target&&e.target.classList.remove("opacity-50"),document.querySelectorAll(".drop-zone").forEach(e=>e.classList.remove("drag-over"))},window.allowDrop=function(e){e.preventDefault(),e.currentTarget.classList.contains("drop-zone")&&e.currentTarget.classList.add("drag-over")},window.dragLeave=function(e){e.currentTarget.classList.contains("drop-zone")&&e.currentTarget.classList.remove("drag-over")}</script>