<!doctypehtml><html lang="ms-MY"class="overflow-hidden overscroll-none"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Matematik Ceria: Menyusun Nombor</title><script src="https://cdn.tailwindcss.com"></script><link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap"rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script><style>body{font-family:Fredoka,sans-serif;background-color:#f0fdf4;background-image:radial-gradient(#86efac 2px,transparent 2px);background-size:30px 30px}.game-card{background:#fff;border:4px solid #475569;box-shadow:8px 8px 0 #00000020;border-radius:1.5rem;position:relative;display:flex;flex-direction:column;flex:1;overflow:hidden}.btn-3d{transition:all .1s;border-bottom-width:6px;border-color:rgba(0,0,0,.2);transform:translateY(0);cursor:pointer;display:inline-block}.btn-3d:active:not(:disabled){transform:translateY(4px);border-bottom-width:2px;box-shadow:none}.btn-3d:disabled{opacity:.6;cursor:not-allowed;border-bottom-width:6px;filter:grayscale(100%)}.number-card{transition:all .3s;cursor:grab;box-shadow:0 4px 0 rgba(0,0,0,.1);border-width:3px;border-radius:1rem;background:#fff;display:flex;align-items:center;justify-content:center}.number-card:active{cursor:grabbing}.number-card:hover{transform:scale(1.05) rotate(-2deg);z-index:50;border-color:#4ade80}.dragging{opacity:.5;transform:scale(.9)}.drop-zone{border:3px dashed #94a3b8;background-color:#f1f5f9;transition:all .3s ease;border-radius:1rem;display:flex;align-items:center;justify-content:center}.drop-zone.drag-over{border-color:#3b82f6;background-color:#dbeafe;transform:scale(1.05)}.drop-zone-filled{border:3px solid #22c55e!important;background-color:#dcfce7!important;color:#15803d!important;transform:scale(1.05);box-shadow:0 4px 6px -1px rgba(0,0,0,.1)}.shake{animation:shake .4s ease-in-out}@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px)}75%{transform:translateX(8px)}}.number-line-container{position:relative;height:80px;width:100%;border-bottom:6px solid #475569;margin-top:60px;margin-bottom:40px}.number-line-tick{position:absolute;width:6px;height:20px;background-color:#475569;bottom:-6px;border-radius:3px}.number-line-label{position:absolute;bottom:-45px;font-size:1.2rem;font-weight:700;color:#475569;transform:translateX(-50%)}.number-line-drop-zone{position:absolute;width:70px;height:60px;background-color:#e0f2fe;border:3px dashed #3b82f6;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#3b82f6;top:-70px;left:var(--position);transform:translateX(-50%);transition:all .2s ease-in-out;cursor:grab}.number-line-drop-zone.filled{border-style:solid;background-color:#dcfce7;border-color:#22c55e;color:#16a34a;cursor:default}.block-ratus{width:1.5rem;height:1.5rem;background-color:#fecaca;border:1px solid #f87171;margin:1px;border-radius:2px}.block-puluh{width:.5rem;height:1.5rem;background-color:#bfdbfe;border:1px solid #93c5fd;margin:1px;border-radius:1px}.block-sa{width:.5rem;height:.5rem;background-color:#dcfce7;border:1px solid #86efac;margin:1px;border-radius:1px}.block-container{display:flex;flex-wrap:wrap;gap:1px;padding:.25rem;background-color:#fff;border:1px solid #e2e8f0;border-radius:.5rem;min-height:40px;align-content:flex-start;transition:all .3s ease}.block-container.highlight{outline:2px solid #facc15;border-color:#facc15}.compare-symbol-btn{font-size:2rem;font-weight:700;padding:.5rem 1.5rem;border-radius:12px;border:3px solid transparent;transition:all .2s;background:#f1f5f9;border-bottom:4px solid #cbd5e1}.compare-symbol-btn:active{transform:translateY(2px);border-bottom-width:2px}.compare-symbol-btn.correct{background-color:#dcfce7;color:#16a34a;border-color:#22c55e}.compare-symbol-btn.incorrect{background-color:#fef2f2;color:#dc2626;border-color:#ef4444}</style><body class="h-screen w-screen overflow-hidden text-slate-800 flex flex-col overscroll-none"><div class="flex-none p-4 z-50 pointer-events-none w-full"><div class="max-w-4xl mx-auto bg-green-400 border-4 border-green-600 rounded-full px-4 py-2 shadow-xl flex items-center justify-between pointer-events-auto transform hover:scale-[1.01] transition-transform"><div class="flex items-center gap-3"><span class="text-2xl animate-bounce">üî¢</span> <span id="info-text"class="text-lg font-bold text-green-900 leading-none mt-1">Jom Susun Nombor!</span></div><button id="speak-btn"onclick="speakInfo()"class="bg-white hover:bg-green-50 text-green-600 border-2 border-green-200 rounded-full p-2 transition-colors shadow-sm">üîä</button></div></div><div class="h-4"></div><div class="flex-1 w-full max-w-5xl mx-auto p-2 flex flex-col min-h-0"><div class="game-card p-4 mb-2 flex-1 w-full"><div id="activity-content"class="w-full h-full relative z-10 flex flex-col overflow-hidden"><div class="py-10 text-center flex flex-col justify-center h-full"><div class="text-6xl mb-4 animate-pulse">üíØ</div><h2 class="text-4xl font-bold text-emerald-600 mb-2">Menyusun Nombor</h2><p class="text-lg text-slate-500 mb-4 font-semibold">Pilih aktiviti di bawah untuk meneroka!<div class="text-2xl animate-bounce">üëá</div></div></div></div><div class="flex-none bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg p-2 border-2 border-white"><h3 class="text-lg font-bold text-slate-700 mb-2 text-center">üéÆ Pilih Aktiviti</h3><div class="grid grid-cols-5 gap-2 mb-2"><button onclick="loadActivity(1)"class="btn-3d bg-blue-500 text-white font-bold py-2 px-1 rounded-xl text-xs">üéØ<br>Klik</button> <button onclick="loadActivity(2)"class="btn-3d bg-emerald-500 text-white font-bold py-2 px-1 rounded-xl text-xs">‚öñÔ∏è<br>Timbang</button> <button onclick="loadActivity(3)"class="btn-3d bg-violet-500 text-white font-bold py-2 px-1 rounded-xl text-xs">üìè<br>Garis</button> <button onclick="loadActivity(4)"class="btn-3d bg-orange-500 text-white font-bold py-2 px-1 rounded-xl text-xs">üß©<br>Token</button> <button onclick="loadActivity(5)"class="btn-3d bg-teal-500 text-white font-bold py-2 px-1 rounded-xl text-xs">üìä<br>Banding</button></div><div class="flex justify-center gap-4 border-t-2 border-slate-100 pt-2"><button onclick="clearActivity()"class="btn-3d bg-slate-400 text-white font-bold py-1 px-4 rounded-full text-sm">üè† Menu</button> <button onclick="nextActivity()"class="btn-3d bg-indigo-500 text-white font-bold py-1 px-6 rounded-full text-base">Seterusnya ‚û°Ô∏è</button></div></div></div><script>let currentActivity=0,ttsEnabled=!1,currentInfo="Pilih aktiviti untuk mula.",draggedElement=null;function triggerWin(){confetti({particleCount:150,spread:80,origin:{y:.6}})}function speak(e){var t;ttsEnabled&&"speechSynthesis"in window&&(window.speechSynthesis.cancel(),(e=new SpeechSynthesisUtterance(e)).lang="ms-MY",e.rate=.9,e.pitch=1.1,(t=window.speechSynthesis.getVoices().find(e=>"ms-MY"===e.lang||e.lang?.startsWith("ms")))&&(e.voice=t),window.speechSynthesis.speak(e))}function setInfo(e){currentInfo=e;let t=document.getElementById("info-text");t.style.opacity=0,setTimeout(()=>{t.textContent=e,t.style.opacity=1},200),speak(e)}function speakInfo(){ttsEnabled||(ttsEnabled=!0,document.getElementById("speak-btn").classList.add("bg-green-100","text-green-600")),speak(currentInfo)}function loadActivity(e){currentActivity=e;let t=document.getElementById("activity-content");t.style.opacity=0,setTimeout(()=>{1===e&&loadClickNumberActivity(t),2===e&&loadNumberScaleActivity(t),3===e&&loadNumberLineActivity(t),4===e&&loadTokenArrangementActivity(t),5===e&&loadPlaceValueComparer(t),t.style.opacity=1},200)}function clearActivity(){currentActivity=0,document.getElementById("activity-content").innerHTML='<div class="py-10 text-center flex flex-col justify-center h-full"><div class="text-6xl mb-4 animate-bounce">üíØ</div><h2 class="text-4xl font-bold text-emerald-600 mb-2">Menyusun Nombor</h2><p class="text-lg text-slate-500 mb-4 font-semibold">Pilih butang di bawah.</p></div>',setInfo("Pilih aktiviti untuk mula.")}function nextActivity(){let e=currentActivity+1;loadActivity(e=5<e?1:e)}function loadClickNumberActivity(e){setInfo("Klik nombor untuk mendengar sebutan.");e.innerHTML=`
        <h3 class="text-xl font-bold text-blue-500 mb-2 text-center">üéØ Klik Nombor</h3>
        <div class="flex-1 overflow-y-auto">
            <div class="grid grid-cols-3 gap-2 max-w-lg mx-auto p-2">
              ${[125,247,305,580,719,963].map(e=>`
                <div class="number-card border-blue-300 text-blue-700 p-2 text-center shadow-sm hover:bg-blue-50 cursor-pointer text-2xl font-black rounded-xl h-20"
                     onclick="clickNumber(${e})">
                  ${e}
                </div>
              `).join("")}
            </div>
            <div id="number-info" class="mt-2 p-2 bg-blue-50 rounded-xl border-2 border-blue-100 text-center text-lg font-bold text-blue-800 min-h-[50px] flex items-center justify-center">
              Sentuh nombor untuk meneroka.
            </div>
        </div>
      `}function clickNumber(e){e=`Nombor ${e}. Sebutan: ${{125:"seratus dua puluh lima",247:"dua ratus empat puluh tujuh",305:"tiga ratus lima",580:"lima ratus lapan puluh",719:"tujuh ratus sembilan belas",963:"sembilan ratus enam puluh tiga"}[e]}.`;setInfo(document.getElementById("number-info").innerText=e)}function loadNumberScaleActivity(e){setInfo("Seret nombor ke penimbang untuk bandingkan.");var t=Math.floor(900*Math.random())+100;let n=Math.floor(900*Math.random())+100;for(;n===t;)n=Math.floor(900*Math.random())+100;window.scaleState={left:null,right:null,count:0},e.innerHTML=`
        <h3 class="text-xl font-bold text-emerald-600 mb-2 text-center">‚öñÔ∏è Penimbang Nombor</h3>
        
        <div class="flex-1 w-full flex flex-col items-center justify-center overflow-hidden relative">
            <div class="relative w-full max-w-sm h-40 mb-2 scale-75 origin-center">
               <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-0 border-l-[60px] border-l-transparent border-r-[60px] border-r-transparent border-b-[40px] border-b-slate-400 z-10"></div>
               <div class="absolute bottom-[40px] left-1/2 -translate-x-1/2 w-2 h-32 bg-slate-400 z-10"></div>
               
               <div id="scale-beam" class="absolute left-[5%] top-[40px] w-[90%] h-3 bg-slate-600 rounded-full z-0 transition-transform duration-500 ease-in-out origin-center"></div>

               <div id="scale-left-container" class="absolute left-[5%] top-[40px] transition-transform duration-500 ease-in-out flex flex-col items-center">
                   <div class="w-1 h-16 bg-slate-400"></div>
                   <div id="scale-left" class="drop-zone w-20 h-20 rounded-full border-4 border-slate-300 bg-white text-slate-400 font-bold shadow-lg flex items-center justify-center text-sm"
                        ondrop="dropOnScale(event, 'left')" ondragover="allowDrop(event)">Letak</div>
               </div>

               <div id="scale-right-container" class="absolute right-[5%] top-[40px] transition-transform duration-500 ease-in-out flex flex-col items-center">
                   <div class="w-1 h-16 bg-slate-400"></div>
                   <div id="scale-right" class="drop-zone w-20 h-20 rounded-full border-4 border-slate-300 bg-white text-slate-400 font-bold shadow-lg flex items-center justify-center text-sm"
                        ondrop="dropOnScale(event, 'right')" ondragover="allowDrop(event)">Letak</div>
               </div>
            </div>

            <div class="flex justify-center gap-4 mb-2">
                <div class="number-card bg-green-100 border-green-400 text-green-800 p-2 rounded-xl text-xl font-bold w-16 h-16"
                     draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" data-number="${t}">${t}</div>
                <div class="number-card bg-green-100 border-green-400 text-green-800 p-2 rounded-xl text-xl font-bold w-16 h-16"
                     draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" data-number="${n}">${n}</div>
            </div>
            
            <div id="scale-result" class="text-xl font-bold text-slate-700 text-center min-h-[20px] mb-2"></div>
            
            <div class="text-center">
                <button onclick="loadActivity(2)" class="btn-3d bg-indigo-500 text-white font-bold py-1 px-4 rounded-xl text-base">üîÑ Nombor Baharu</button>
            </div>
        </div>
      `}function dropOnScale(e,t){var n;e.preventDefault(),e.currentTarget.classList.remove("drag-over"),draggedElement&&!e.currentTarget.dataset.number&&(n=parseInt(draggedElement.dataset.number),window.scaleState[t]=n,window.scaleState.count++,e.currentTarget.innerHTML=`<span class="text-3xl text-green-700">${n}</span>`,e.currentTarget.classList.add("drop-zone-filled"),e.currentTarget.dataset.number=n,draggedElement.style.display="none",draggedElement=null,2===window.scaleState.count?animateScale():setInfo("Letakkan satu lagi nombor."))}function animateScale(){var{left:e,right:t}=window.scaleState,n=document.getElementById("scale-beam"),a=document.getElementById("scale-left-container"),r=document.getElementById("scale-right-container"),l=document.getElementById("scale-result");let o="";setInfo((o=t<e?(n.style.transform="rotate(-10deg)",a.style.transform="translateY(30px)",r.style.transform="translateY(-30px)",e+" > "+t):e<t?(n.style.transform="rotate(10deg)",a.style.transform="translateY(-30px)",r.style.transform="translateY(30px)",e+" < "+t):e+" = "+t).replace(">","lebih besar").replace("<","lebih kecil")),l.textContent=o,triggerWin()}function loadNumberLineActivity(e){setInfo("Seret nombor ke tempat kosong di garis nombor.");var t=Math.floor(890*Math.random())+100,n=t+9,a=[],r=[];for(let e=t;e<=n;e++)(Math.random()<.5&&a.length<3?a:r).push(e);for(;a.length<3&&0<r.length;){var l=Math.floor(Math.random()*r.length);a.push(r.splice(l,1)[0])}a.sort(()=>Math.random()-.5);let o="";for(let e=t;e<=n;e++){var s=(e-t)/(n-t)*100;r.includes(e)?o+=`
            <div class="number-line-label" style="left: ${s}%;">${e}</div>
            <div class="number-line-tick" style="left: ${s}%;"></div>
          `:o+=`
            <div class="number-line-drop-zone" id="nl-drop-${e}" data-correct="${e}" style="--position: ${s}%"
                 ondrop="dropOnNumberLine(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">?</div>
            <div class="number-line-tick" style="left: ${s}%;"></div>
          `}e.innerHTML=`
        <h3 class="text-xl font-bold text-purple-600 mb-4 text-center">üìè Garis Nombor</h3>
        <div class="px-2 mb-8 mt-8 w-full max-w-3xl mx-auto relative h-32">
            <div class="number-line-container scale-75 origin-top">
                ${o}
            </div>
        </div>
        <div class="bg-purple-50 p-2 rounded-2xl border-4 border-purple-100 text-center flex-1 overflow-y-auto">
            <h4 class="text-sm font-bold text-purple-400 uppercase mb-2">Pilihan Nombor</h4>
            <div class="flex flex-wrap justify-center gap-2">
                ${a.map(e=>`
                    <div class="number-card bg-white border-purple-400 text-purple-800 p-2 rounded-lg text-lg font-bold"
                         draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" data-number="${e}">${e}</div>
                `).join("")}
            </div>
        </div>
        <div class="text-center mt-2 flex-none">
           <button onclick="loadActivity(3)" class="btn-3d bg-indigo-500 text-white font-bold py-1 px-6 rounded-xl text-base">üîÑ Garis Baru</button>
        </div>
      `,window.numberLineGame={totalToPlace:a.length,placedCorrectly:0}}function dropOnNumberLine(e){var t,n;e.preventDefault(),e.currentTarget.classList.remove("drag-over"),draggedElement&&((t=parseInt(draggedElement.dataset.number))===(n=parseInt(e.currentTarget.dataset.correct))?(e.currentTarget.innerHTML=`<span class="text-xl">${t}</span>`,e.currentTarget.classList.add("filled"),e.currentTarget.classList.remove("number-line-drop-zone"),e.currentTarget.removeAttribute("ondrop"),draggedElement.remove(),draggedElement=null,window.numberLineGame.placedCorrectly++,setInfo(`Betul! ${n}.`),window.numberLineGame.placedCorrectly===window.numberLineGame.totalToPlace&&(setInfo("Garis nombor lengkap!"),triggerWin())):(setInfo("Salah tempat. Cuba lagi."),draggedElement.classList.add("shake"),setTimeout(()=>draggedElement.classList.remove("shake"),500)))}function loadTokenArrangementActivity(e){setInfo("Bina perkataan nombor dengan token.");let t=["","satu","dua","tiga","empat","lima","enam","tujuh","lapan","sembilan"],n=["","sepuluh","dua puluh","tiga puluh","empat puluh","lima puluh","enam puluh","tujuh puluh","lapan puluh","sembilan puluh"],a=["sepuluh","sebelas","dua belas","tiga belas","empat belas","lima belas","enam belas","tujuh belas","lapan belas","sembilan belas"];for(var r,l,o,s=Math.floor(899*Math.random())+100,d=1e3===(m=s)?["seribu"]:(r=[],d=Math.floor(m/100),m=m%100,l=Math.floor(m/10),o=m%10,0<d&&r.push(1===d?"seratus":t[d]+" ratus"),0!=m&&(10<=m&&m<20?r.push(...a[m-10].split(" ")):(0<l&&r.push(n[l]),0<o&&r.push(t[o]))),"satu ratus"===r[0]&&(r[0]="seratus"),r.flatMap(e=>e.split(" "))),i=new Set(d),c=["seratus","ratus","puluh","belas",...t,...n.filter(e=>e)];i.size<Math.min(8,c.length);){var u=c[Math.floor(Math.random()*c.length)];u&&i.add(u)}var m=[...i].sort(()=>Math.random()-.5);window.tokenGame={targetNum:s,correctTokens:d,currentArrangement:Array(d.length).fill(null),placedCount:0},e.innerHTML=`
            <h3 class="text-xl font-bold text-orange-500 mb-2 text-center">üß© Susun Token</h3>
            <div class="text-center mb-4 flex-none">
               <div class="text-xs font-bold text-slate-400 uppercase">Sasaran</div>
               <div class="text-5xl font-black text-orange-600">${s}</div>
            </div>

            <div class="flex flex-wrap justify-center gap-1 mb-4 min-h-[50px] flex-none">
               ${d.map((e,t)=>`
                  <div id="token-slot-${t}" class="drop-zone bg-orange-50 border-orange-200 text-slate-300 font-bold"
                       style="min-width:60px; height:40px; border-radius:8px;"
                       ondrop="dropOnTokenSlot(event, ${t})" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                     ${t+1}
                  </div>
               `).join("")}
            </div>

            <div class="bg-orange-50 rounded-2xl p-2 border-4 border-orange-100 mb-2 flex-1 overflow-y-auto">
               <h4 class="text-center font-bold text-orange-400 uppercase mb-2 text-xs">Bank Token</h4>
               <div class="flex flex-wrap justify-center gap-2">
                  ${m.map((e,t)=>`
                     <div class="number-card bg-white border-orange-300 text-orange-700 px-2 py-1 rounded-lg font-bold text-sm"
                          draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" data-token="${e}">
                        ${e}
                     </div>
                  `).join("")}
               </div>
            </div>

            <div class="flex justify-center gap-2 flex-none">
               <button onclick="checkTokenArrangement()" class="btn-3d bg-indigo-500 text-white font-bold py-2 px-6 rounded-xl text-base disabled:opacity-50" id="check-tokens-btn" disabled>‚úÖ Semak</button>
               <button onclick="loadActivity(4)" class="btn-3d bg-emerald-500 text-white font-bold py-2 px-6 rounded-xl text-base">üîÑ Baru</button>
            </div>
        `}function dropOnTokenSlot(e,t){var n;e.preventDefault(),e.currentTarget.classList.remove("drag-over"),draggedElement&&null===window.tokenGame.currentArrangement[t]&&(n=draggedElement.dataset.token)&&(window.tokenGame.currentArrangement[t]=n,window.tokenGame.placedCount++,e.currentTarget.innerHTML=`<span class="text-xl font-bold text-indigo-700">${n}</span>`,e.currentTarget.classList.add("drop-zone-filled"),draggedElement.style.visibility="hidden",draggedElement=null,window.tokenGame.placedCount===window.tokenGame.correctTokens.length)&&(document.getElementById("check-tokens-btn").disabled=!1,setInfo("Tekan Semak."))}function checkTokenArrangement(){var{correctTokens:t,currentArrangement:n,targetNum:e}=window.tokenGame;document.querySelectorAll(".drop-zone-filled");let a=!0;for(let e=0;e<t.length;e++){var r=document.getElementById("token-slot-"+e);n[e]===t[e]?(r.style.borderColor="#22c55e",r.style.backgroundColor="#dcfce7"):(r.style.borderColor="#ef4444",r.style.backgroundColor="#fee2e2",a=!1)}a?(setInfo(`Tahniah! ${e} ialah ${t.join(" ")}.`),triggerWin()):setInfo("Ada yang salah. Cuba lagi.")}function loadPlaceValueComparer(e){setInfo("Bandingkan nilai tempat Ratus, Puluh, dan Sa.");var t=Math.floor(899*Math.random())+100;let n=Math.floor(899*Math.random())+100;for(;n===t;)n=Math.floor(899*Math.random())+100;var a=Math.floor(t/100),r=Math.floor(t%100/10),l=t%10,o=Math.floor(n/100),s=Math.floor(n%100/10),d=n%10;window.comparerGame={num1:t,num2:n,r1:a,p1:r,s1:l,r2:o,p2:s,s2:d,currentStep:0},e.innerHTML=`
           <h3 class="text-xl font-bold text-teal-600 mb-2 text-center flex-none">üìä Banding Beza</h3>
           
           <div class="flex-1 w-full flex flex-col min-h-0">
               <div class="grid grid-cols-2 gap-2 mb-2 flex-1 min-h-0">
                   <div class="bg-white rounded-2xl p-2 border-2 border-slate-100 shadow-sm flex flex-col overflow-y-auto">
                       <div class="text-2xl font-black text-slate-700 text-center mb-1">${t}</div>
                       <div id="blocks-a-r" class="block-container mb-1">${renderBlocks(a,"ratus")}</div>
                       <div id="blocks-a-p" class="block-container mb-1">${renderBlocks(r,"puluh")}</div>
                       <div id="blocks-a-s" class="block-container">${renderBlocks(l,"sa")}</div>
                   </div>
                   <div class="bg-white rounded-2xl p-2 border-2 border-slate-100 shadow-sm flex flex-col overflow-y-auto">
                       <div class="text-2xl font-black text-slate-700 text-center mb-1">${n}</div>
                       <div id="blocks-b-r" class="block-container mb-1">${renderBlocks(o,"ratus")}</div>
                       <div id="blocks-b-p" class="block-container mb-1">${renderBlocks(s,"puluh")}</div>
                       <div id="blocks-b-s" class="block-container">${renderBlocks(d,"sa")}</div>
                   </div>
               </div>

               <div class="flex justify-center gap-2 mb-2 flex-none">
                   <button id="btn-start-r" onclick="startCompareStep(1)" class="btn-3d bg-rose-500 text-white font-bold py-1 px-3 rounded-lg text-sm">1. Ratus</button>
                   <button id="btn-start-p" onclick="startCompareStep(2)" class="btn-3d bg-blue-500 text-white font-bold py-1 px-3 rounded-lg text-sm" disabled>2. Puluh</button>
                   <button id="btn-start-s" onclick="startCompareStep(3)" class="btn-3d bg-green-500 text-white font-bold py-1 px-3 rounded-lg text-sm" disabled>3. Sa</button>
               </div>

               <div id="interactive-compare-area" class="min-h-[60px] text-center mb-2 flex-none"></div>
               <div id="compare-result" class="text-center text-xl font-black text-teal-700 mb-1 flex-none"></div>
               <div id="compare-reason" class="text-center text-sm font-medium text-slate-600 italic min-h-[20px] flex-none"></div>
               
               <div class="text-center mt-2 flex-none">
                   <button onclick="loadActivity(5)" class="btn-3d bg-indigo-500 text-white font-bold py-1 px-6 rounded-xl">üîÑ Soalan Baru</button>
               </div>
           </div>
        `}function renderBlocks(t,n){if(0===t)return'<span class="text-gray-300 m-auto text-sm">0</span>';let a="";for(let e=0;e<t;e++)a+=`<div class="block-${n}"></div>`;return a}function startCompareStep(e){window.comparerGame.currentStep=e;var{r1:t,p1:n,s1:a,r2:r,p2:l,s2:o}=window.comparerGame;document.querySelectorAll(".block-container").forEach(e=>e.classList.remove("highlight"));let s,d,i,c,u;1===e&&(s=t,d=r,i="Ratus",c="blocks-a-r",u="blocks-b-r",document.getElementById("btn-start-r").disabled=!0),2===e&&(s=n,d=l,i="Puluh",c="blocks-a-p",u="blocks-b-p",document.getElementById("btn-start-p").disabled=!0),3===e&&(s=a,d=o,i="Sa",c="blocks-a-s",u="blocks-b-s",document.getElementById("btn-start-s").disabled=!0),document.getElementById(c).classList.add("highlight"),document.getElementById(u).classList.add("highlight"),document.getElementById("interactive-compare-area").innerHTML=`
          <div class="text-xl font-bold text-slate-600 mb-3">Banding ${i}: ${s} ___ ${d}</div>
          <div class="flex justify-center gap-4">
             <button onclick="checkComparison('${s}','${d}','<')" class="compare-symbol-btn">&lt;</button>
             <button onclick="checkComparison('${s}','${d}','>')" class="compare-symbol-btn">&gt;</button>
             <button onclick="checkComparison('${s}','${d}','=')" class="compare-symbol-btn">=</button>
          </div>
       `,setInfo(`Bandingkan nilai ${i}.`)}function checkComparison(e,t,n){e=parseInt(e),t=parseInt(t);let a=t<e?">":e<t?"<":"=";document.querySelectorAll(".compare-symbol-btn").forEach(e=>{e.classList.remove("correct","incorrect"),e.textContent.includes(n)&&(n===a?(e.classList.add("correct"),handleCorrectStep()):(e.classList.add("incorrect"),setInfo("Salah. Cuba lagi.")))})}function handleCorrectStep(){var{currentStep:t,num1:n,num2:a,r1:r,r2:l,p1:o,p2:s,s1:d,s2:i}=window.comparerGame;if(document.getElementById("interactive-compare-area").innerHTML="",1===t)document.getElementById("btn-start-p").disabled=!1,setInfo("Betul! Sekarang bandingkan Puluh.");else if(2===t)document.getElementById("btn-start-s").disabled=!1,setInfo("Betul! Sekarang bandingkan Sa.");else if(3===t){t=a<n?">":n<a?"<":"=";let e="";e=r!==l?`Ratus ${r} vs `+l:o!==s?`Puluh ${o} vs `+s:d!==i?`Sa ${d} vs `+i:"Semua sama.",document.getElementById("compare-result").innerHTML=`Keputusan: ${n} ${t} `+a,document.getElementById("compare-reason").innerHTML="Sebab utama: "+e,setInfo("Tahniah! Perbandingan selesai."),triggerWin(),document.querySelectorAll(".block-container").forEach(e=>e.classList.remove("highlight"))}}window.dragStart=function(e){draggedElement=e.target,e.target.classList.add("dragging"),e.target.dataset.number&&e.dataTransfer.setData("number",e.target.dataset.number),e.target.dataset.token&&e.dataTransfer.setData("token",e.target.dataset.token)},window.dragEnd=function(e){draggedElement&&draggedElement.classList.remove("dragging"),draggedElement=null,document.querySelectorAll(".drop-zone, .number-line-drop-zone, .token-slot").forEach(e=>e.classList.remove("drag-over"))},window.allowDrop=function(e){e.preventDefault(),(e.currentTarget.classList.contains("drop-zone")||e.currentTarget.classList.contains("number-line-drop-zone"))&&e.currentTarget.classList.add("drag-over")},window.dragLeave=function(e){(e.currentTarget.classList.contains("drop-zone")||e.currentTarget.classList.contains("number-line-drop-zone"))&&e.currentTarget.classList.remove("drag-over")},window.scaleState={left:null,right:null,count:0},window.numberLineGame={totalToPlace:0,placedCorrectly:0},window.tokenGame={targetNum:0,correctTokens:[],currentArrangement:[],placedCount:0},window.comparerGame={num1:0,num2:0,r1:0,p1:0,s1:0,r2:0,p2:0,s2:0,currentStep:0},"speechSynthesis"in window&&setInterval(()=>{window.speechSynthesis.paused&&window.speechSynthesis.resume()},1e3)</script>