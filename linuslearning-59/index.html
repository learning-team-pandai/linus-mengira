<!doctypehtml><html lang="ms-MY"class="overflow-hidden overscroll-none"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Matematik Ceria: Latihan Operasi Tolak</title><script src="https://cdn.tailwindcss.com"></script><link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap"rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script><style>body{font-family:Fredoka,sans-serif;background-color:#f0fdf4;background-image:radial-gradient(#86efac 2px,transparent 2px);background-size:30px 30px}.game-card{background:#fff;border:4px solid #475569;box-shadow:8px 8px 0 #00000020;border-radius:1.5rem;position:relative;display:flex;align-items:center;justify-content:center;flex-direction:column;flex:1;overflow:hidden}.btn-3d{transition:all .1s;border-bottom-width:6px;border-color:rgba(0,0,0,.2);transform:translateY(0);cursor:pointer;display:inline-block}.btn-3d:active:not(:disabled){transform:translateY(4px);border-bottom-width:2px;box-shadow:none}.btn-3d:disabled{opacity:.6;cursor:not-allowed;border-bottom-width:6px;filter:grayscale(100%)}.shake{animation:shake .4s ease-in-out;border-color:#ef4444!important;background-color:#fee2e2!important}@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px) rotate(-5deg)}75%{transform:translateX(8px) rotate(5deg)}}.alg-grid-input{display:grid;grid-template-columns:40px repeat(3,60px);justify-content:center;gap:5px;background-color:#f8fafc;padding:1rem;border-radius:1rem;border:4px solid #e2e8f0;font-weight:700;font-size:1.5rem}.alg-label{font-size:1.2rem;color:#94a3b8;font-weight:700;padding-bottom:.5rem;text-align:center}.alg-num{height:60px;display:flex;align-items:center;justify-content:center;border-radius:.5rem;position:relative}.ans-input{width:100%;height:60px;text-align:center;font-family:Fredoka,sans-serif;font-size:1.5rem;font-weight:700;border:2px dashed #cbd5e1;border-radius:.5rem;background-color:#fff;color:#334155}.ans-input:focus{outline:0;border:3px solid #22c55e;background-color:#f0fdf4}.ans-input:disabled{background-color:#e2e8f0;border:none;color:#94a3b8}.line-sep{grid-column:span 4;border-top:6px solid #475569;margin:5px 0}.alg-num-potong{color:#ef4444;text-decoration:line-through;opacity:.4}.alg-num-atas{position:absolute;top:-25px;left:50%;transform:translateX(-50%);font-size:1.5rem;color:#22c55e;font-weight:800;background:#dcfce7;padding:2px 10px;border-radius:8px;border:2px solid #22c55e;z-index:10;box-shadow:0 4px 6px rgba(0,0,0,.1)}.alg-pinjam-sebelah{position:absolute;left:15px;font-size:1.8rem;color:#22c55e;font-weight:800;top:20px;z-index:5}.block-container{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;align-items:center;padding:20px}.block{border:3px solid rgba(0,0,0,.1);border-radius:8px;cursor:pointer;transition:transform .2s;color:#fff;font-weight:700;display:flex;align-items:center;justify-content:center;box-shadow:4px 4px 0 rgba(0,0,0,.1)}.block:hover{transform:scale(1.05)}.block-ratus{width:100px;height:100px;background-color:#fca5a5;border-color:#ef4444;color:#7f1d1d}.block-puluh{width:30px;height:80px;background-color:#86efac;border-color:#22c55e;color:#14532d;font-size:.8rem;writing-mode:vertical-rl}.block-sa{width:25px;height:25px;background-color:#93c5fd;border-color:#3b82f6}</style><body class="h-screen w-screen overflow-hidden text-slate-800 flex flex-col overscroll-none"><div class="flex-none p-4 z-50 pointer-events-none w-full"><div class="max-w-4xl mx-auto bg-green-400 border-4 border-green-600 rounded-full px-4 py-2 shadow-xl flex items-center justify-between pointer-events-auto transform hover:scale-[1.01] transition-transform"><div class="flex items-center gap-3"><span class="text-2xl animate-bounce">üßÆ</span> <span id="info-text"class="text-lg font-bold text-green-900 leading-none mt-1">Pilih aktiviti untuk mula!</span></div><button id="speak-btn"onclick="speakInfo()"class="bg-white hover:bg-green-50 text-green-600 border-2 border-green-200 rounded-full p-2 transition-colors shadow-sm">üîä</button></div></div><div class="h-4"></div><div class="flex-1 w-full max-w-5xl mx-auto p-2 flex flex-col min-h-0"><div class="game-card p-4 mb-2 flex-1 w-full"><div id="activity-content"class="w-full h-full relative z-10 flex flex-col overflow-hidden"><div class="py-10 text-center flex flex-col justify-center h-full"><div class="text-6xl mb-4 animate-pulse">üéØ</div><h2 class="text-3xl font-bold text-emerald-600 mb-2">Latihan Operasi Tolak</h2><p class="text-lg text-slate-500 mb-4 font-semibold">Jom uji kemahiran mengira info.<div class="text-2xl animate-bounce">üëá</div></div></div></div><div class="flex-none bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg p-2 border-2 border-white"><h3 class="text-lg font-bold text-slate-700 mb-2 text-center">üéÆ Pilih Aktiviti</h3><div class="grid grid-cols-5 gap-2 mb-2"><button onclick="loadActivity(1)"class="btn-3d bg-blue-500 text-white font-bold py-2 px-1 rounded-xl text-xs">üéØ<br>Asas</button> <button onclick="loadActivity(2)"class="btn-3d bg-emerald-500 text-white font-bold py-2 px-1 rounded-xl text-xs">üßÆ<br>Simulasi</button> <button onclick="loadActivity(3)"class="btn-3d bg-violet-500 text-white font-bold py-2 px-1 rounded-xl text-xs">ü§î<br>Konsep</button> <button onclick="loadActivity(4)"class="btn-3d bg-orange-500 text-white font-bold py-2 px-1 rounded-xl text-xs">‚úèÔ∏è<br>Latihan</button> <button onclick="loadActivity(5)"class="btn-3d bg-rose-500 text-white font-bold py-2 px-1 rounded-xl text-xs">üß±<br>Blok</button></div><div class="flex justify-center gap-4 border-t-2 border-slate-100 pt-2"><button onclick="clearActivity()"class="btn-3d bg-slate-400 text-white font-bold py-1 px-4 rounded-full text-sm">üè† Menu</button> <button onclick="nextActivity()"class="btn-3d bg-indigo-500 text-white font-bold py-1 px-6 rounded-full text-base">Seterusnya ‚û°Ô∏è</button></div></div></div><script>let currentActivity=0,ttsEnabled=!1,currentInfo="Selamat datang!";function triggerWin(){confetti({particleCount:150,spread:80,origin:{y:.6}})}function speak(e){var t;ttsEnabled&&"speechSynthesis"in window&&(window.speechSynthesis.cancel(),(e=new SpeechSynthesisUtterance(e)).lang="ms-MY",e.rate=.9,e.pitch=1.1,(t=window.speechSynthesis.getVoices().find(e=>"ms-MY"===e.lang||e.lang?.startsWith("ms")))&&(e.voice=t),window.speechSynthesis.speak(e))}function setInfo(e){currentInfo=e;let t=document.getElementById("info-text");t.style.opacity=0,setTimeout(()=>{t.textContent=e,t.style.opacity=1},200)}function speakInfo(){ttsEnabled||(ttsEnabled=!0,document.getElementById("speak-btn").classList.add("bg-green-100","text-green-600")),speak(currentInfo)}function loadActivity(e){currentActivity=e;let t=document.getElementById("activity-content");t.style.opacity=0,setTimeout(()=>{1===e&&loadTolakAsas(t),2===e&&loadSimulasiTanpaPinjam(t),3===e&&loadKonsepPinjam(t),4===e&&loadSimulasiDenganPinjam(t),5===e&&loadPecahBlok(t),t.style.opacity=1},200)}function clearActivity(){currentActivity=0,document.getElementById("activity-content").innerHTML='<div class="py-10 text-center flex flex-col justify-center h-full"><div class="text-6xl mb-4 animate-pulse">üéØ</div><h2 class="text-3xl font-bold text-emerald-600 mb-2">Latihan Operasi Tolak</h2><p class="text-lg text-slate-500 mb-4 font-semibold">Pilih aktiviti di bawah.</p></div>',setInfo("Pilih aktiviti untuk mula belajar!")}function nextActivity(){let e=currentActivity+1;loadActivity(e=5<e?1:e)}function loadTolakAsas(e){setInfo("Jom tolak nombor mudah. 8 - 2 = ?"),e.innerHTML=`
        <h3 class="text-xl font-bold text-blue-500 mb-4 text-center flex-none">üéØ Tolak Asas</h3>
        <div class="flex-1 w-full overflow-y-auto px-4 flex flex-col items-center">
            <div class="bg-blue-50 rounded-3xl p-4 border-4 border-blue-100 inline-block mb-4 flex-none">
                <div class="text-6xl font-bold text-slate-700">8 - 2 = <span id="q-mark" class="text-blue-500">?</span></div>
            </div>
            <div class="flex justify-center gap-4 mt-2 flex-none">
               <button onclick="checkAsas(this, 5)" class="btn-3d bg-white text-blue-600 border-2 border-blue-200 text-3xl font-bold w-16 h-16 rounded-2xl shadow-sm hover:bg-blue-50">5</button>
               <button onclick="checkAsas(this, 6)" class="btn-3d bg-white text-blue-600 border-2 border-blue-200 text-3xl font-bold w-16 h-16 rounded-2xl shadow-sm hover:bg-blue-50">6</button>
               <button onclick="checkAsas(this, 7)" class="btn-3d bg-white text-blue-600 border-2 border-blue-200 text-3xl font-bold w-16 h-16 rounded-2xl shadow-sm hover:bg-blue-50">7</button>
            </div>
            <div id="asas-result" class="mt-4 text-xl font-bold h-10 text-center flex-none"></div>
        </div>
      `}function loadSimulasiTanpaPinjam(e){setInfo("Selesaikan 798 - 302. Mula dari rumah Sa."),e.innerHTML=`
        <h3 class="text-xl font-bold text-emerald-500 mb-2 text-center flex-none">üßÆ Latihan (Tanpa Pinjam)</h3>
        <div class="flex-1 w-full overflow-y-auto px-4 flex flex-col items-center justify-center">
            <div class="alg-grid-input shadow-xl flex-none">
               <div class="alg-label"></div><div class="alg-label">Ra</div><div class="alg-label">Pu</div><div class="alg-label">Sa</div>
               
               <div class="alg-num"></div><div class="alg-num">7</div><div class="alg-num">9</div><div class="alg-num">8</div>
               <div class="text-2xl text-slate-400 flex items-center justify-center">-</div>
               <div class="alg-num">3</div><div class="alg-num">0</div><div class="alg-num">2</div>
               
               <div class="line-sep"></div>
               
               <div></div>
               <input id="ans-ra" class="ans-input" maxlength="1" disabled placeholder="?">
               <input id="ans-pu" class="ans-input" maxlength="1" disabled placeholder="?">
               <input id="ans-sa" class="ans-input pulse" maxlength="1" placeholder="?">
            </div>
            <div id="sim-1-msg" class="text-center mt-4 text-base text-slate-500 font-semibold flex-none">8 - 2 = ? Masukkan jawapan.</div>
        </div>
      `;let t=document.getElementById("ans-sa"),a=(t.focus(),document.getElementById("ans-pu")),n=document.getElementById("ans-ra");t.addEventListener("input",e=>{"6"===e.target.value?(t.disabled=!0,t.classList.remove("pulse"),a.disabled=!1,a.classList.add("pulse"),a.focus(),setInfo("Betul! Sekarang Puluh: 9 - 0 = ?"),speak("Betul! Sekarang tolak puluh.")):e.target.value&&(t.value="",t.classList.add("shake"),setTimeout(()=>t.classList.remove("shake"),400))}),a.addEventListener("input",e=>{"9"===e.target.value?(a.disabled=!0,a.classList.remove("pulse"),n.disabled=!1,n.classList.add("pulse"),n.focus(),setInfo("Tepat! Sekarang Ratus: 7 - 3 = ?"),speak("Tepat! Sekarang tolak ratus.")):e.target.value&&(a.value="",a.classList.add("shake"),setTimeout(()=>a.classList.remove("shake"),400))}),n.addEventListener("input",e=>{"4"===e.target.value?(n.disabled=!0,n.classList.remove("pulse"),document.getElementById("sim-1-msg").textContent="Syabas! 798 - 302 = 496",document.getElementById("sim-1-msg").className="text-center mt-6 text-2xl text-emerald-600 font-bold animate-bounce",setInfo("Tahniah! Jawapan anda 496."),speak("Tahniah! Jawapan anda 496."),triggerWin()):e.target.value&&(n.value="",n.classList.add("shake"),setTimeout(()=>n.classList.remove("shake"),400))})}function loadKonsepPinjam(e){setInfo("Lihat bagaimana 503 meminjam untuk bersedia."),e.innerHTML=`
          <h3 class="text-xl font-bold text-violet-500 mb-2 text-center flex-none">ü§î Konsep Pinjam</h3>
          <div class="flex-1 w-full overflow-y-auto px-4 flex flex-col items-center">
              <div class="flex justify-center my-4 flex-none">
                <div class="bg-white p-4 rounded-3xl border-4 border-slate-200 shadow-lg flex gap-2 items-end">
                     <div id="digit-ratus" class="alg-num w-16 text-4xl font-bold text-slate-700">5</div>
                     <div id="digit-puluh" class="alg-num w-16 text-4xl font-bold text-slate-700">0</div>
                     <div id="digit-sa" class="alg-num w-16 text-4xl font-bold text-slate-700">3</div>
                </div>
              </div>

              <div class="flex justify-center gap-2 flex-none">
                <button id="btn-p1" onclick="doPinjam1()" class="btn-3d bg-violet-500 text-white font-bold py-2 px-4 rounded-xl text-md pulse">1. Pinjam Ra ‚û°Ô∏è Pu</button>
                <button id="btn-p2" onclick="doPinjam2()" class="btn-3d bg-slate-400 text-white font-bold py-2 px-4 rounded-xl text-md" disabled>2. Pinjam Pu ‚û°Ô∏è Sa</button>
              </div>
          </div>
        `}function loadSimulasiDenganPinjam(e){setInfo("Selesaikan 503 - 394. Sa tak cukup!"),e.innerHTML=`
            <h3 class="text-xl font-bold text-orange-500 mb-2 text-center flex-none">‚úèÔ∏è Latihan Pinjam</h3>
            <div class="flex-1 w-full overflow-y-auto px-4 flex flex-col items-center">
                <div class="flex justify-center relative flex-none">
                    <div class="alg-grid-input shadow-xl">
                       <div class="alg-label"></div><div class="alg-label">Ra</div><div class="alg-label">Pu</div><div class="alg-label">Sa</div>
                       
                       <div class="alg-num"></div>
                       <div class="alg-num" id="num-ra">5</div>
                       <div class="alg-num" id="num-pu">0</div>
                       <div class="alg-num" id="num-sa">3</div>
                       
                       <div class="text-2xl text-slate-400 flex items-center justify-center">-</div>
                       <div class="alg-num">3</div><div class="alg-num">9</div><div class="alg-num">4</div>
                       
                       <div class="line-sep"></div>
                       
                       <div></div>
                       <input id="ans-ra" class="ans-input" maxlength="1" disabled>
                       <input id="ans-pu" class="ans-input" maxlength="1" disabled>
                       <input id="ans-sa" class="ans-input" maxlength="1" disabled>
                    </div>
                </div>
                
                <div class="text-center mt-4 flex-none">
                   <button id="btn-borrow-act" onclick="doBorrowAction()" class="btn-3d bg-orange-500 text-white font-bold py-2 px-6 rounded-full text-lg pulse">üÜò Klik Sini Untuk Pinjam</button>
                </div>
            </div>
        `}window.checkAsas=function(e,t){var a=document.getElementById("asas-result"),n=document.getElementById("q-mark");6===t?(a.textContent="Betul! 8 - 2 = 6",a.className="mt-8 text-3xl font-bold text-green-500 animate-bounce",n.textContent="6",n.className="text-green-500",setInfo("Tahniah! Jawapan betul."),speak("Tahniah! Jawapan betul."),triggerWin()):(a.textContent="Cuba lagi...",a.className="mt-8 text-2xl font-bold text-red-400",e.classList.add("shake"),setTimeout(()=>e.classList.remove("shake"),500),setInfo("Salah. Cuba lagi."),speak("Salah. Cuba lagi."))},window.doPinjam1=function(){document.getElementById("digit-ratus").innerHTML='<span class="alg-num-potong">5</span><span class="alg-num-atas">4</span>',document.getElementById("digit-puluh").innerHTML='<span class="alg-num-potong">0</span><span class="alg-num-atas">10</span>';var e=document.getElementById("btn-p1"),t=document.getElementById("btn-p2");e.disabled=!0,e.className="btn-3d bg-slate-300 text-white font-bold py-3 px-6 rounded-xl text-xl",t.disabled=!1,t.className="btn-3d bg-violet-500 text-white font-bold py-3 px-6 rounded-xl text-xl pulse",setInfo("Bagus! 5 Ratus bagi 1 Ratus dekat Puluh. Jadi 10 Puluh."),speak("Bagus! 5 Ratus bagi 1 Ratus dekat Puluh.")},window.doPinjam2=function(){document.getElementById("digit-puluh").innerHTML='<span class="alg-num-potong">0</span><span class="alg-num-atas" style="text-decoration:line-through; opacity:0.6; color:#ef4444">10</span><div style="position:absolute;top:-45px;left:50%;transform:translateX(-50%);color:#22c55e;font-weight:800;background:#dcfce7;padding:2px 8px;border:2px solid #22c55e;border-radius:8px;">9</div>',document.getElementById("digit-sa").innerHTML='<span class="alg-pinjam-sebelah">1</span>3',document.getElementById("btn-p2").disabled=!0,document.getElementById("btn-p2").className="btn-3d bg-slate-300 text-white font-bold py-3 px-6 rounded-xl text-xl",setInfo("Sekarang Sa pinjam dari Puluh. Nombor sedia ditolak!"),speak("Sekarang Sa pinjam dari Puluh. Nombor sedia ditolak!"),triggerWin()};let borrowStep=0;function setupInputsPinjam(){let t=document.getElementById("ans-sa"),a=document.getElementById("ans-pu"),n=document.getElementById("ans-ra");t.addEventListener("input",e=>{"9"===e.target.value?(t.disabled=!0,t.classList.remove("pulse"),a.disabled=!1,a.classList.add("pulse"),a.focus(),setInfo("Betul! Puluh: 9 - 9 = ?")):e.target.value&&(t.value="",t.classList.add("shake"),setTimeout(()=>t.classList.remove("shake"),400))}),a.addEventListener("input",e=>{"0"===e.target.value?(a.disabled=!0,a.classList.remove("pulse"),n.disabled=!1,n.classList.add("pulse"),n.focus(),setInfo("Betul! Ratus: 4 - 3 = ?")):e.target.value&&(a.value="",a.classList.add("shake"),setTimeout(()=>a.classList.remove("shake"),400))}),n.addEventListener("input",e=>{"1"===e.target.value?(n.disabled=!0,n.classList.remove("pulse"),setInfo("Hebat! Jawapan 109."),speak("Hebat! Jawapan 109."),triggerWin()):e.target.value&&(n.value="",n.classList.add("shake"),setTimeout(()=>n.classList.remove("shake"),400))})}function loadPecahBlok(e){setInfo("Macam mana 1 Ratus pecah jadi Puluh?"),e.innerHTML=`
         <h3 class="text-xl font-bold text-rose-500 mb-2 text-center flex-none">üß± Pecah Blok</h3>
         <div class="flex-1 w-full overflow-y-auto px-4 flex flex-col items-center">
             <div class="bg-white border-4 border-rose-100 rounded-3xl min-h-[200px] w-full flex items-center justify-center relative p-4 flex-none">
                 <div id="block-space" class="block-container">
                     <button id="start-block-btn" onclick="startBlocks()" class="btn-3d bg-rose-500 text-white font-bold py-2 px-4 rounded-xl text-lg">Ambil 1 Blok Ratus</button>
                 </div>
             </div>
             <div id="block-info" class="text-center mt-2 text-lg font-bold text-rose-800 flex-none"></div>
         </div>
      `}window.doBorrowAction=function(){var e=document.getElementById("btn-borrow-act");1===++borrowStep?(document.getElementById("num-ra").innerHTML='<span class="alg-num-potong">5</span><span class="alg-num-atas">4</span>',document.getElementById("num-pu").innerHTML='<span class="alg-num-potong">0</span><span class="alg-num-atas">10</span>',setInfo("Pinjam Ratus dulu. Klik lagi untuk pinjam ke Sa."),speak("Pinjam Ratus dulu. Klik lagi untuk pinjam ke Sa.")):2===borrowStep&&(document.getElementById("num-pu").innerHTML='<span class="alg-num-potong">0</span><span class="alg-num-atas" style="text-decoration:line-through; opacity:0.6; color:#ef4444">10</span><div style="position:absolute;top:-55px;left:50%;transform:translateX(-50%);color:#22c55e;font-weight:800;background:#dcfce7;padding:2px 8px;border:2px solid #22c55e;border-radius:8px;">9</div>',document.getElementById("num-sa").innerHTML='<span class="alg-pinjam-sebelah">1</span>3',e.style.display="none",setInfo("Sedia! Selesaikan Sa: 13 - 4 = ?"),speak("Sedia! Selesaikan Sa, tiga belas tolak empat."),(e=document.getElementById("ans-sa")).disabled=!1,e.classList.add("pulse"),e.focus(),setupInputsPinjam())},window.startBlocks=function(){let a=document.getElementById("block-space");a.innerHTML="";var e=document.createElement("div");e.className="block block-ratus animate-bounce",e.innerHTML="RATUS",e.onclick=function(){this.remove();for(let e=0;e<10;e++){var t=document.createElement("div");t.className="block block-puluh",t.innerHTML="PU",t.onclick=function(){this.remove();for(let e=0;e<10;e++){var t=document.createElement("div");t.className="block block-sa",a.appendChild(t)}setInfo("1 Puluh pecah jadi 10 Sa."),speak("1 Puluh pecah jadi 10 Sa."),document.getElementById("block-info").textContent="9 Puluh + 10 Sa"},a.appendChild(t)}setInfo("1 Ratus pecah jadi 10 Puluh. Klik Puluh untuk pecah lagi."),speak("1 Ratus pecah jadi 10 Puluh."),document.getElementById("block-info").textContent="10 Puluh"},a.appendChild(e),setInfo("Klik blok Ratus untuk pecahkan.")}</script>