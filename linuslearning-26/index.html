<!doctypehtml><html lang="ms-MY"class="overflow-hidden overscroll-none"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Pemulihan: Menyusun Nombor</title><script src="https://cdn.tailwindcss.com"></script><link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap"rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script><style>body{font-family:Fredoka,sans-serif;background-color:#f0fdf4;background-image:radial-gradient(#86efac 2px,transparent 2px);background-size:30px 30px;user-select:none}.game-card{background:#fff;border:4px solid #475569;box-shadow:8px 8px 0 #00000020;border-radius:1.5rem;position:relative;display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:hidden}.btn-3d{transition:all .1s;border-bottom-width:6px;border-color:rgba(0,0,0,.2);transform:translateY(0);cursor:pointer;display:inline-flex;align-items:center;justify-content:center}.btn-3d:active:not(:disabled){transform:translateY(4px);border-bottom-width:2px;box-shadow:none}.btn-3d:disabled{opacity:.6;cursor:not-allowed;border-bottom-width:6px;filter:grayscale(100%)}.pop-in{animation:popIn .3s cubic-bezier(.175,.885,.32,1.275)}@keyframes popIn{0%{transform:scale(0)}100%{transform:scale(1)}}.shake{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}@keyframes shake{10%,90%{transform:translate3d(-2px,0,0)}20%,80%{transform:translate3d(4px,0,0)}30%,50%,70%{transform:translate3d(-6px,0,0)}40%,60%{transform:translate3d(6px,0,0)}}.draggable{cursor:grab;touch-action:none}.draggable:active{cursor:grabbing;opacity:.8;transform:scale(1.05)}.drop-zone{transition:all .2s;border:4px dashed #cbd5e1;background:#f8fafc;border-radius:1rem}.drop-zone.drag-over{background:#dbeafe;border-color:#3b82f6;transform:scale(1.02)}.rocket-path{position:relative;width:100%;max-width:300px;display:flex;flex-direction:column;gap:4px;align-items:center;overflow-y:auto;height:100%}.rocket-station{width:100%;padding:6px;border-radius:8px;background:#fef3c7;border:2px solid #fcd34d;text-align:center;font-weight:700;color:#b45309;cursor:pointer;transition:all .2s;font-size:.8rem}.rocket-station:active{transform:scale(.95)}.rocket-station.completed{background:#fcd34d;color:#fff;border-color:#d97706}#rocket-ship{transition:transform .5s cubic-bezier(.175,.885,.32,1.275);font-size:2rem}.stone{width:50px;height:50px;border-radius:50%;background:#f3e8ff;border:3px dashed #c084fc;display:flex;align-items:center;justify-content:center;font-weight:700;color:#7e22ce;font-size:1.2rem}.stone.filled{background:#d8b4fe;border-style:solid;color:#fff}</style><body class="h-screen w-screen overflow-hidden text-slate-800 flex flex-col overscroll-none"><div class="flex-none p-4 z-50 pointer-events-none w-full"><div class="max-w-4xl mx-auto bg-green-400 border-4 border-green-600 rounded-full px-4 py-2 shadow-xl flex items-center justify-between pointer-events-auto transform hover:scale-[1.01] transition-transform"><div class="flex items-center gap-3"><span class="text-2xl animate-bounce">ğŸ”¢</span> <span id="info-text"class="text-lg font-bold text-green-900 leading-none mt-1">Menyusun Nombor</span></div><button id="speak-btn"onclick="speakInfo()"class="bg-white hover:bg-green-50 text-green-600 border-2 border-green-200 rounded-full p-2 transition-colors shadow-sm">ğŸ”Š</button></div></div><div class="flex-1 w-full max-w-6xl mx-auto p-2 flex flex-col min-h-0"><div class="game-card p-4 mb-2 flex-1 w-full"><div id="activity-content"class="w-full relative z-10 flex flex-col items-center justify-center h-full transition-opacity duration-200"><div class="py-10 text-center"><div class="text-8xl mb-6 animate-pulse">ğŸ¤–</div><h2 class="text-5xl font-bold text-emerald-600 mb-4">Jom Susun Nombor!</h2><p class="text-lg text-slate-500 mb-8 font-semibold">Pilih aktiviti di bawah untuk mula.<div class="text-4xl animate-bounce">ğŸ‘‡</div></div></div></div><div class="flex-none bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg p-2 border-2 border-white"><h3 class="text-lg font-bold text-slate-700 mb-1 text-center">ğŸ® Pilih Aktiviti</h3><div class="grid grid-cols-5 gap-2 mb-2"><button onclick="loadActivity(1)"class="btn-3d bg-blue-500 text-white font-bold py-2 px-1 rounded-xl text-xs md:text-sm">ğŸ¤–<br>Genap</button> <button onclick="loadActivity(2)"class="btn-3d bg-green-500 text-white font-bold py-2 px-1 rounded-xl text-xs md:text-sm">ğŸ‘¹<br>Ganjil</button> <button onclick="loadActivity(3)"class="btn-3d bg-purple-500 text-white font-bold py-2 px-1 rounded-xl text-xs md:text-sm">ğŸŒ¸<br>Lima</button> <button onclick="loadActivity(4)"class="btn-3d bg-orange-500 text-white font-bold py-2 px-1 rounded-xl text-xs md:text-sm">ğŸš€<br>Roket</button> <button onclick="loadActivity(5)"class="btn-3d bg-pink-500 text-white font-bold py-2 px-1 rounded-xl text-xs md:text-sm">ğŸ²<br>Teroka</button></div><div class="flex justify-center gap-4 border-t-2 border-slate-100 pt-2"><button onclick="clearActivity()"class="btn-3d bg-slate-400 text-white font-bold py-1 px-4 rounded-full text-base">ğŸ  Menu</button> <button onclick="nextActivity()"class="btn-3d bg-indigo-500 text-white font-bold py-1 px-6 rounded-full text-lg">Seterusnya â¡ï¸</button></div></div></div><script>let currentActivity=0,ttsEnabled=!1,currentInfo="Pilih aktiviti untuk mula belajar nombor!",draggedItem=null;function speak(e){var t;ttsEnabled&&"speechSynthesis"in window&&(window.speechSynthesis.cancel(),(e=new SpeechSynthesisUtterance(e)).lang="ms-MY",e.rate=.95,e.pitch=1.05,(t=window.speechSynthesis.getVoices().find(e=>"ms-MY"===e.lang||e.lang?.startsWith("ms")))&&(e.voice=t),window.speechSynthesis.speak(e))}function setInfo(e){currentInfo=e;let t=document.getElementById("info-text");t.style.opacity=0,setTimeout(()=>{t.textContent=e,t.style.opacity=1},200)}function speakInfo(){ttsEnabled||(ttsEnabled=!0,document.getElementById("speak-btn").classList.add("bg-green-100","text-green-600")),speak(currentInfo)}function triggerWin(){confetti({particleCount:100,spread:70,origin:{y:.6}})}function loadActivity(e){currentActivity=e;let t=document.getElementById("activity-content");t.style.opacity=0,setTimeout(()=>{1===e?setupSorter(t,"genap"):2===e?setupSorter(t,"ganjil"):3===e?setupFivePattern(t):4===e?setupRocket(t):5===e&&setupExplore(t),t.style.opacity=1},200)}function clearActivity(){currentActivity=0,document.getElementById("activity-content").innerHTML='<div class="py-10 text-center"><div class="text-8xl mb-6 animate-pulse">ğŸ¤–</div><h2 class="text-5xl font-bold text-emerald-600 mb-4">Jom Susun Nombor!</h2><p class="text-2xl text-slate-500 mb-8 font-semibold">Pilih butang di bawah.</p></div>',setInfo("Pilih aktiviti di bawah.")}function nextActivity(){let e=currentActivity+1;loadActivity(e=5<e?1:e)}function setupSorter(e,t){var a="genap"===t,n=a?"ğŸ¤– Asing Nombor Genap":"ğŸ‘¹ Asing Nombor Ganjil",a=a?"blue":"green",r=[2,5,8,11,14,17,20,23].sort(()=>Math.random()-.5);setInfo(`Masukkan nombor ${t.toUpperCase()} ke dalam bakul.`),e.innerHTML=`
            <div class="w-full max-w-5xl text-center flex flex-col h-full overflow-hidden">
                <h3 class="text-2xl font-bold text-${a}-600 mb-2 flex-none">${n}</h3>
                
                <div id="conveyor" class="bg-slate-100 p-2 rounded-2xl border-2 border-slate-200 flex flex-wrap justify-center gap-2 mb-2 min-h-[80px] flex-none">
                    ${r.map(e=>`
                        <div draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" data-val="${e}"
                             class="draggable btn-3d bg-white border-slate-300 text-slate-700 w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold">
                            ${e}
                        </div>
                    `).join("")}
                </div>

                <div class="grid grid-cols-2 gap-4 flex-1 min-h-0">
                    <div class="drop-zone p-2 flex flex-col items-center justify-start gap-2 bg-blue-50 border-blue-300 overflow-y-auto"
                         ondrop="dropSorter(event, 'genap')" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                        <span class="text-4xl">ğŸ¤–</span>
                        <span class="text-lg font-black text-blue-700 uppercase">Genap</span>
                    </div>
                    <div class="drop-zone p-2 flex flex-col items-center justify-start gap-2 bg-green-50 border-green-300 overflow-y-auto"
                         ondrop="dropSorter(event, 'ganjil')" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
                        <span class="text-4xl">ğŸ‘¹</span>
                        <span class="text-lg font-black text-green-700 uppercase">Ganjil</span>
                    </div>
                </div>
            </div>
        `}window.dragStart=function(e){draggedItem=e.target,e.target.classList.add("opacity-50"),e.dataTransfer.setData("val",e.target.dataset.val)},window.dragEnd=function(e){e.target.classList.remove("opacity-50"),draggedItem=null},window.allowDrop=function(e){e.preventDefault(),e.currentTarget.classList.contains("drop-zone")&&e.currentTarget.classList.add("drag-over")},window.dragLeave=function(e){e.currentTarget.classList.contains("drop-zone")&&e.currentTarget.classList.remove("drag-over")},window.dropSorter=function(e,t){var a,n;e.preventDefault(),e.currentTarget.classList.remove("drag-over"),draggedItem&&(n=(a=parseInt(draggedItem.dataset.val))%2==0,"genap"===t&&n||"ganjil"===t&&!n?(draggedItem.style.display="none",speak(`Betul! ${a} ialah ${t}.`),(n=document.createElement("div")).className="w-12 h-12 bg-white rounded-full border-2 flex items-center justify-center font-bold text-sm pop-in mb-1",n.innerText=a,n.style.borderColor="genap"===t?"#3b82f6":"#22c55e",e.currentTarget.appendChild(n),0===document.querySelectorAll('#conveyor .draggable:not([style*="none"])').length&&setTimeout(()=>{speak("Semua nombor selesai!"),triggerWin()},500)):(speak(`Salah. ${a} bukan ${t}.`),draggedItem.classList.add("shake"),setTimeout(()=>draggedItem.classList.remove("shake"),500)))};let patternState={next:5};function setupFivePattern(e){patternState={next:5};var t=[5,10,15,20,25],a=[...t,12,18,23].sort(()=>Math.random()-.5);setInfo("Susun gandaan 5 ikut urutan (5, 10, 15...)."),e.innerHTML=`
            <div class="w-full max-w-5xl text-center flex flex-col h-full overflow-hidden">
                <h3 class="text-2xl font-bold text-purple-600 mb-2 flex-none">ğŸŒ¸ Lompat Atas Bunga (Gandaan 5)</h3>
                
                <div class="bg-purple-50 p-2 rounded-2xl border-2 border-purple-200 flex flex-wrap justify-center gap-2 mb-2 flex-none">
                    ${a.map(e=>`
                        <div draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" data-val="${e}"
                             class="draggable btn-3d bg-white border-purple-300 text-purple-800 w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold">
                            ${e}
                        </div>
                    `).join("")}
                </div>

                <div class="flex flex-wrap justify-center gap-2 md:gap-4 items-center relative flex-1 content-start overflow-y-auto">
                    <div class="absolute top-1/2 left-0 right-0 h-2 bg-purple-200 -z-10 rounded-full hidden md:block"></div>
                    ${t.map(e=>`
                        <div class="stone drop-zone" data-target="${e}"
                             ondrop="dropStone(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">?</div>
                    `).join("")}
                </div>
            </div>
        `}window.dropStone=function(e,t){var a,n;e.preventDefault(),e.currentTarget.classList.remove("drag-over"),draggedItem&&((a=parseInt(draggedItem.dataset.val))===(n=parseInt(e.currentTarget.dataset.target))&&a===patternState.next?(e.currentTarget.innerHTML=a,e.currentTarget.classList.remove("drop-zone"),e.currentTarget.classList.add("filled","pop-in"),e.currentTarget.removeAttribute("ondrop"),draggedItem.style.display="none",patternState.next+=5,speak(a.toString()),25===a?setTimeout(()=>{speak("Laluan lengkap!"),triggerWin()},500):setInfo(`Cari nombor ${patternState.next}.`)):(speak(a!==n?"Salah tempat.":`Ikut urutan. Cari ${patternState.next} dulu.`),draggedItem.classList.add("shake"),setTimeout(()=>draggedItem.classList.remove("shake"),500)))};let rocketStep=10;function setupRocket(e){rocketStep=10;setInfo("Klik stesen 10, 20, 30... untuk terbangkan roket!"),e.innerHTML=`
            <div class="w-full max-w-md mx-auto text-center relative h-full flex flex-col overflow-hidden">
                <h3 class="text-2xl font-bold text-orange-600 mb-2 flex-none">ğŸš€ Roket Sepuluh</h3>
                
                <div class="rocket-path mx-auto bg-orange-50 p-2 rounded-3xl border-2 border-orange-200 flex-1 min-h-0 w-full justify-end overflow-y-auto relative">
                     <div class="flex flex-col-reverse gap-2 w-full pb-10">
                        ${[100,90,80,70,60,50,40,30,20,10].map(e=>`
                            <div class="rocket-station" id="st-${e}" onclick="clickStation(${e})">
                                ${100===e?"ğŸŒ• 100":e}
                            </div>
                        `).join("")}
                    </div>
                </div>
                <!-- Rocket element handled via JS/CSS overlay or separate layer, but simplified here to avoid layout break -->
                <div id="rocket-ship" class="text-4xl absolute bottom-4 left-1/2 transform -translate-x-1/2 z-20 transition-all duration-500 pointer-events-none">ğŸš€</div>
            </div>
        `}function setupExplore(e){setInfo("Klik kad untuk belajar pola nombor.");e.innerHTML=`
            <div class="w-full max-w-5xl text-center flex flex-col h-full overflow-y-auto">
                <h3 class="text-2xl font-bold text-pink-600 mb-4 flex-none">ğŸ² Teroka Urutan</h3>
                
                <div class="grid grid-cols-1 gap-4 flex-1 min-h-0">
                    ${[{seq:"5, 10, ?, 20",ans:15,desc:"Tambah 5 setiap langkah."},{seq:"2, 4, 6, ?",ans:8,desc:"Nombor genap, tambah 2."},{seq:"10, 20, 30, ?",ans:40,desc:"Gandaan sepuluh."},{seq:"1, 3, 5, ?",ans:7,desc:"Nombor ganjil, selang satu."}].map(e=>`
                        <button onclick="explainSeq(this, '${e.desc}', ${e.ans})" class="btn-3d bg-white border-pink-300 text-slate-700 p-4 rounded-2xl flex flex-col items-center gap-2 group hover:bg-pink-50 w-full">
                            <div class="text-xl font-bold text-pink-800">${e.seq}</div>
                            <div class="w-full h-1 bg-pink-100 rounded-full"></div>
                            <div class="text-3xl font-black text-pink-500 group-hover:scale-110 transition-transform">?</div>
                        </button>
                    `).join("")}
                </div>
            </div>
        `}window.clickStation=function(t){if(t===rocketStep){document.getElementById("st-"+t).classList.add("completed");document.getElementById("rocket-ship").style.transform=`translate(-50%, -${46*(t/10)}px)`,speak(t.toString()),rocketStep+=10,100===t&&(setInfo("Roket sampai ke bulan!"),triggerWin(),speak("Berjaya mendarat!"))}else if(t>rocketStep){speak(`Klik ${rocketStep} dahulu.`);let e=document.getElementById("st-"+t);e.classList.add("shake"),setTimeout(()=>e.classList.remove("shake"),300)}},window.explainSeq=function(e,t,a){e=e.querySelector(".text-4xl");e.innerText=a,e.classList.add("text-green-500","pop-in"),speak(a+". "+t),setInfo(t)}</script>